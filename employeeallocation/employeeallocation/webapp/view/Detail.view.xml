<mvc:View controllerName="in.protiviti.employeeallocation.controller.Detail"
	xmlns:unified="sap.ui.unified" height="100%" xmlns:mvc="sap.ui.core.mvc" xmlns:l="sap.ui.layout" 
	xmlns:core="sap.ui.core" xmlns:forms="sap.ui.layout.form" xmlns:uxap="sap.uxap" xmlns="sap.m">
	<uxap:ObjectPageLayout id="ObjectPageLayout" upperCaseAnchorBar="false" showFooter="true">
		<!-- <uxap:headerTitle>
			<uxap:ObjectPageHeader>
				<Button text="Edit" type="Emphasized" press="onEdit" visible="{=${CUSDataModel>/Editable}===false? true:false}"></Button>
				<Button text="Back" press="onBack"></Button>				        
			</uxap:ObjectPageHeader>
		</uxap:headerTitle> -->
		<uxap:sections>
	        <uxap:ObjectPageSection titleUppercase="true" title="General Detail">
				<uxap:subSections>
					<uxap:ObjectPageSubSection title="General Detail" titleUppercase="true">
						<uxap:blocks>
							<forms:SimpleForm layout="ColumnLayout" columnsL="2" columnsM="1" columnsXL="-1">
								<Label text="Customer"/>
										<ComboBox id="cust1" items="{oEmployeeModel>/}" width="60%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oDataModel>/CustomerCode}" required="true">
								<core:ListItem key="{oEmployeeModel>CustomerCode}" text="{oEmployeeModel>CustomerName}"/>
								</ComboBox>
								<Label text="Start Date"></Label>
								<DatePicker
									value="{ path: 'oEmployeeModel>/StartDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }"
									enabled="{oViewModel>/showAvailablebtn}"
									width="60%"
									id="startdate"
									valueState="{path: 'oViewModel>/startDateState'}"
									valueStateText="{path: 'oViewModel>/startDateStateText'}"
									change="onStartDateChange"
									required="true"
									>
									</DatePicker>
								<Label text="Project Location"></Label>
										<ComboBox id="projloc" items="{oEmployeeModel>/}" width="60%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oDataModel>/ProjectLocation}" required="true">
								<core:ListItem key="{oEmployeeModel>DomvalueL}" text="{oEmployeeModel>Ddtext}"/>
								</ComboBox>
										<Label text="Project Type"></Label>
										<ComboBox id="projtype" items="{oEmployeeModel>/}" width="60%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oDataModel>/ProjectType}" required="true">
								<core:ListItem key="{oEmployeeModel>DomvalueL}" text="{oEmployeeModel>Ddtext}"/>
								</ComboBox>
										<Label text="Billing Type"></Label>
										<ComboBox id="billing" items="{oEmployeeModel>/}" width="60%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oDataModel>/BillingType}" required="true">
								<core:ListItem key="{oEmployeeModel>DomvalueL}" text="{oEmployeeModel>Ddtext}"/>
								</ComboBox>
										<Label text="Project Name"></Label>
								<Input id="projname" value="{oEmployeeModel>/ProjcetName}" change="validateInput" width="60%" enabled="{oViewModel>/showAvailablebtn}" required="true"/>
										<Label text="End Date"></Label>
								<DatePicker
									value="{ path: 'oEmployeeModel>/EndDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }"
									enabled="{oViewModel>/showAvailablebtn}"
									width="60%"
									id="enddate"
									valueState="{path: 'oViewModel>/endDateState'}"
									valueStateText="{path: 'oViewModel>/endDateStateText'}"
									change="onEndDateChange"
									required="true"
									>
									</DatePicker>
								<Label text="Execution City"></Label>
								<Input id="city" width="60%" value="{oEmployeeModel>/ProjectCity}" change="validateInput" enabled="{oViewModel>/showAvailablebtn}" required="true"></Input>
								<Label text="Responsible Manager"></Label>
										<ComboBox id="manager" items="{path:'oNameModel>/', length:200}" width="60%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oDataModel>/ResponsibleManager}" required="true">
								<core:ListItem key="{oEmployeeModel>DomvalueL}" text="{oEmployeeModel>Ddtext}"/>
								</ComboBox>
								<Label text="CRM Oppurtunity/Project Code"></Label>
								<Input id="crm" width="60%" value="{oEmployeeModel>/CrmCode}" change="validateInput" enabled="{oViewModel>/showAvailablebtn}" required="true"></Input>
							</forms:SimpleForm>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
 			<uxap:ObjectPageSection titleUppercase="true" title="Additional Data">
				<uxap:subSections>
					<uxap:ObjectPageSubSection title="Additional Data" titleUppercase="true">
						<uxap:blocks>
							<Table id="myTable" items="{oViewModel>/tableData}">
								<columns>
								<Column>
									<Text text="Role"/>
								</Column>
								<Column>
									<Text text="Resource Name"/>
								</Column>
								<Column>
									<Text text="Deployment Location"/>
								</Column>
								<Column>
									<Text text="Start Date"/>
								</Column>
								<Column>
									<Text text="End Date"/>
								</Column>
								<Column>
									<Text text="Allocation %"/>
								</Column>
								<Column visible="{oViewModel>/resourseName}" >
									<Text text="Resource Name"/>
								</Column>
								</columns>
								<items>
								<ColumnListItem>
									<cells>
									<ComboBox id="role" items="{oRoleModel>/}" width="100%" change="validateCombo" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oViewModel>role}" required="true">
										<core:ListItem key="{oRoleModel>DomvalueL}" text="{oRoleModel>Ddtext}"/>
									</ComboBox>
									<ComboBox id="name" items="{path:'oNameModel>/', length:200}" change="validateCombo" width="100%" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oViewModel>name}" required="true">
										<core:ListItem key="{oNameModel>DomvalueL}" text="{oNameModel>Ddtext}"/>
									</ComboBox>
									<ComboBox id="projalloc" items="{oProjectAllocModel>/}" change="validateCombo" width="100%" enabled="{oViewModel>/showAvailablebtn}" selectedKey="{oViewModel>depLocation}" required="true">
														<core:ListItem key="{oProjectAllocModel>DomvalueL}" text="{oProjectAllocModel>Ddtext}"/>
													</ComboBox>
									<DatePicker id="start" value="{ path: 'oViewModel>startDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" enabled="{oViewModel>/showAvailablebtn}" valueState="{path: 'oViewModel>/startState'}"
									valueStateText="{path: 'oViewModel>/startStateText'}" change="onStartDateChange1" required="true"/>
									<DatePicker id="end" value="{ path: 'oViewModel>endDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" enabled="{oViewModel>/showAvailablebtn}" valueState="{path: 'oViewModel>/endState'}"
									valueStateText="{path: 'oViewModel>/endStateText'}" change="onEndDateChange1" required="true"/>
									<Input id="alloc" value="{oViewModel>allocation}" enabled="{oViewModel>/showAvailablebtn}" required="true"></Input>
									<Text text="{oViewModel>resourse}" visible="{oViewModel>/resourseName}"></Text>
									</cells>
								</ColumnListItem>
								</items>
							</Table>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>  
		<uxap:footer>
			<Bar visible="true">
				<contentRight>
				<Button text="Save" press="onSave" type="Success"></Button>
				<Button text="Cancel" press="onCancel" type="Reject"></Button>
				</contentRight>
			</Bar>
		</uxap:footer>
	</uxap:ObjectPageLayout> 
</mvc:View>
