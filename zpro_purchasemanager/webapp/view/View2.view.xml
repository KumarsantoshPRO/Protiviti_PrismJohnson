<mvc:View
    controllerName="pj.zpurchasemanager.controller.View2"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns:forms="sap.ui.layout.form"
    xmlns:uxap="sap.uxap"
    xmlns="sap.m"
>
    <uxap:ObjectPageLayout
        id="ObjectPageLayout"
        upperCaseAnchorBar="false"
        showFooter="true"
    >
        <uxap:headerTitle>
            <uxap:ObjectPageDynamicHeaderTitle>
                <uxap:expandedHeading>
                    <Title
                        text="{i18n.View2>View2.Title.text}: {path:'oRequestModel>/Pafno',  formatter:'sap.formatter.removeLeadingZeros'}"
                        wrapping="true"
                    />
                </uxap:expandedHeading>
            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>
        <uxap:sections>
            <uxap:ObjectPageSection
                title="{i18n.View2>View2.ObjectPageSection.title}"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <core:Fragment
                                fragmentName="pj.zpurchasemanager.view.fragments.generalInfo"
                                type="XML"
                            />
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection
                title="{i18n.View2>View2.ObjectPageSection.productDetails}"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <VBox>
                                <ScrollContainer
                                    id="id.ScrollContainer"
                                    width="100%"
                                    vertical="true"
                                    focusable="true"
                                >
                                    <Table
                                        id="idV2TblProducts"
                                        items="{oRequestModel>/NAV_PM_REQUEST/results}"
                                        sticky="ColumnHeaders,HeaderToolbar"
                                        fixedLayout="false"
                                    >
                                        <columns>
                                            <Column
                                                demandPopin="true"
                                                hAlign="Center"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.materialfreightgroups}"
                                                    wrapping="true"
                                                />
                                            </Column>
                                            <Column
                                                demandPopin="true"
                                                hAlign="End"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.sizeSqMt}"
                                                />
                                            </Column>
                                            <Column
                                                minScreenWidth="Tablet"
                                                demandPopin="true"
                                                hAlign="Center"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.design}"
                                                />
                                            </Column>

                                            <Column
                                                demandPopin="true"
                                                hAlign="Center"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.source}"
                                                />
                                            </Column>
                                            <Column
                                                minScreenWidth="Tablet"
                                                demandPopin="true"
                                                hAlign="End"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.volumnft}"
                                                />
                                            </Column>

                                            <Column
                                                minScreenWidth="Tablet"
                                                demandPopin="true"
                                                hAlign="End"
                                                visible="false"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.discountper}"
                                                />
                                            </Column>

                                            <Column
                                                minScreenWidth="Tablet"
                                                demandPopin="true"
                                                hAlign="End"
                                                visible="false"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.netexfactoryNEF}"
                                                />
                                            </Column>
                                            <Column
                                                minScreenWidth="Tablet"
                                                demandPopin="true"
                                                hAlign="End"
                                                visible="false"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.frightsqft}"
                                                />
                                            </Column>
                                            <Column
                                                demandPopin="true"
                                                hAlign="Center"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.buyingPrice}"
                                                />
                                            </Column>
                                            <Column
                                                id="id.bp.Column"
                                                demandPopin="true"
                                                hAlign="Center"
                                                width="8rem"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.approvedbuyingprice}"
                                                    required="true"
                                                />
                                            </Column>
                                            <Column
                                                id="id.remark.Column"
                                                demandPopin="true"
                                                hAlign="Center"
                                                width="8rem"
                                            >
                                                <Label
                                                    text="{i18n.View2>View2.table.remarks}"
                                                />
                                            </Column>
                                        </columns>

                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <Text
                                                        text="{oRequestModel>Mfrgr}"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Zsmm}"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Design}"
                                                    />

                                                    <Text
                                                        text="{oRequestModel>Sname}"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Zvolumepft}"
                                                    />

                                                    <Text
                                                        text="{oRequestModel>Discountper}"
                                                    />

                                                    <Text
                                                        text="{oRequestModel>Nefsqft}"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Frightsqft}"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Buyingpricesqft}"
                                                    />
                                                    <Input
                                                        value="{oRequestModel>ApprovedBuyingprice}"
                                                        textAlign="End"
                                                        liveChange="onApprovedBuyingpriceInputLiveChange"
                                                    />
                                                    <Text
                                                        text="{oRequestModel>Remark}"
                                                    />
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </ScrollContainer>
                            </VBox>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
        <uxap:footer>
            <Bar>
                <contentRight>
                    <Button
                        id="id.negotiationnotpossible.Button"
                        text="{i18n.View2>View2.Bar.negotiationnotpossible}"
                        press="onNegotiationNotPossibleButtonPress"
                        type="Reject"
                    />
                    <Button
                        id="id.renegotiation.Button"
                        text="{i18n.View2>View2.Bar.renegotiation}"
                        press="onRenegotiationButtonPress"
                        type="Accept"
                    />
                </contentRight>
            </Bar>
        </uxap:footer>
    </uxap:ObjectPageLayout>
</mvc:View>
