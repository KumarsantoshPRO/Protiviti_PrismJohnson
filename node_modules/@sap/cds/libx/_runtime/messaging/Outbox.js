const cds = require('../cds')
const LOG = cds.log()

let logged

module.exports = class Outbox extends cds.Service {
  constructor(...args) {
    if (!logged && LOG._warn) {
      // prettier-ignore
      LOG.warn('Internal class `OutboxService` is deprecated and will be removed. Services are outboxable via config or `cds.outboxed()`.')
      logged = true
    }

    super(...args)

    if (this.options.outbox) return cds.outboxed(this)
  }
}
