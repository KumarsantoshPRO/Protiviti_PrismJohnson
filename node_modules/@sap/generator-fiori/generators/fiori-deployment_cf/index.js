(()=>{var e,t,i={51617:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51617,e.exports=t},39973:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=39973,e.exports=t},20545:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=20545,e.exports=t},4297:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4297,e.exports=t},75601:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=75601,e.exports=t},82626:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=82626,e.exports=t},37974:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=37974,e.exports=t},85858:(e,t,i)=>{var a={"./cat":43112,"./cat.js":43112,"./cd":86698,"./cd.js":86698,"./chmod":23986,"./chmod.js":23986,"./common":96816,"./common.js":96816,"./cp":80610,"./cp.js":80610,"./dirs":91972,"./dirs.js":91972,"./echo":16166,"./echo.js":16166,"./error":80609,"./error.js":80609,"./exec":52024,"./exec-child":69911,"./exec-child.js":69911,"./exec.js":52024,"./find":22261,"./find.js":22261,"./grep":56818,"./grep.js":56818,"./head":66412,"./head.js":66412,"./ln":91247,"./ln.js":91247,"./ls":5815,"./ls.js":5815,"./mkdir":70098,"./mkdir.js":70098,"./mv":74164,"./mv.js":74164,"./popd":99851,"./popd.js":99851,"./pushd":6978,"./pushd.js":6978,"./pwd":24044,"./pwd.js":24044,"./rm":44256,"./rm.js":44256,"./sed":43422,"./sed.js":43422,"./set":17444,"./set.js":17444,"./sort":53033,"./sort.js":53033,"./tail":50318,"./tail.js":50318,"./tempdir":16275,"./tempdir.js":16275,"./test":50021,"./test.js":50021,"./to":44915,"./to.js":44915,"./toEnd":13326,"./toEnd.js":13326,"./touch":57650,"./touch.js":57650,"./uniq":63019,"./uniq.js":63019,"./which":5483,"./which.js":5483};function n(e){var t=s(e);return i(t)}function s(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=85858},55079:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCachedServiceProvider=t.getOrCreateServiceProvider=void 0;const a=i(62637),n=i(14425);let s,r;t.getOrCreateServiceProvider=async function(e,t){return s&&r?.isSameSystem&&r?.isSameSystem(e.url,e.client)||(s=e?.getConnection()&&e?.getConnection()?.cookies?await async function(e){if((0,n.isAppStudio)()){const t=await(0,n.listDestinations)(),i=e.config.destination;s=(0,a.createForDestination)({cookies:e.getConnection().cookies.toString()},t[i])}else s=e?.isScp()?(0,a.createForAbapOnCloud)({environment:a.AbapCloudEnvironment.Standalone,service:{url:e.url},ignoreCertErrors:!1,cookies:e.getConnection().cookies.toString()}):(0,a.createForAbap)({baseURL:e?.url,ignoreCertErrors:!1,cookies:e?.getConnection().cookies.toString()});return s}(e):await async function(e,t){if((0,n.isAppStudio)()){const i=await(0,n.listDestinations)(),r=e.config.destination,o=t.username?{auth:{username:t.username,password:t.password}}:{};s=(0,a.createForDestination)({...o},i[r])}else s=e?.isScp()?(0,a.createForAbapOnCloud)({refreshToken:e.credentials?.refreshToken,environment:a.AbapCloudEnvironment.Standalone,service:e.credentials?.serviceKeysContents}):(0,a.createForAbap)({baseURL:e?.url,ignoreCertErrors:!1,auth:{username:t.username??e?.username,password:t.password??e?.password}});return s}(e,t),r=e),s},t.deleteCachedServiceProvider=function(){s=void 0}},62283:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTransportNumberFromService=void 0;const a=i(55079),n=i(62637);t.createTransportNumberFromService=async function(e,{credentials:t,system:i}){try{const s=await(0,a.getOrCreateServiceProvider)(i,t),r=await s.getAdtService(n.TransportRequestService);return await r.createTransportRequest(e)}catch(e){return null}}},98308:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(55079),t),n(i(24105),t),n(i(81547),t)},56821:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listPackagesFromService=void 0;const a=i(55079),n=i(62637),s=i(1937);t.listPackagesFromService=async function(e,{credentials:t,system:i}){try{const r=await(0,a.getOrCreateServiceProvider)(i,t),o=await r.getAdtService(n.ListPackageService);return await o.listPackages({maxResults:s.ABAP_PACKAGE_SEARCH_MAX_RESULTS,phrase:e})}catch(e){return[]}}},24105:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransportConfigInstance=void 0;const a=i(1937),n=i(31881),s=i(55079),r=i(73056),o=i(62637);class DummyTransportConfig{getPackage(){}getApplicationPrefix(){}isTransportRequired(){return!1}getDefaultTransport(){}getOperationsType(){}}class DefaultTransportConfig{constructor(){this.atoSettings={},this.defaultTransport=void 0}getDefaultTransport(){return this.defaultTransport}getPackage(){return this.atoSettings.devPackage}getApplicationPrefix(){return this.atoSettings.devPrefix}isTransportRequired(){return!!this.atoSettings.isTransportRequestRequired}getOperationsType(){return this.atoSettings?.operationsType}async init({credentials:e,system:t}){const i={};try{const a=await(0,s.getOrCreateServiceProvider)(t,e),n=await a.getAdtService(o.AtoService),r=await n.getAtoInfo();i.error=this.handleAtoResponse(r)}catch(e){if((0,s.deleteCachedServiceProvider)(),e.response?.status===a.HttpStatus.UNAUTHORIZED){e.response.headers["www-authenticate"]?.toLowerCase()?.startsWith("basic")&&(i.transportConfigNeedsCreds=!0)}else i.warning=e?.toString(),i.transportConfigNeedsCreds=!1}const n=!i.error&&!i.transportConfigNeedsCreds;return i.transportConfig=n?this:this.getDummyConfig(),i}handleAtoResponse(e){let t=!1;if(this.atoSettings=(0,r.uniformAtoFormat)(e),this.atoSettings.isConfigured&&"CUSTOMER"===this.atoSettings.tenantType&&"C"===this.atoSettings.operationsType){if(!this.atoSettings.isExtensibilityDevSystem)return(0,n.t)("ERROR_S4_SYSTEM_NOT_EXTENSIBLE");if(!this.atoSettings.devPrefix)return(0,n.t)("ERROR_INCORRECT_ATO_SETTINGS");t=!0,this.applyS4CDefaults()}t||(this.atoSettings={operationsType:this.atoSettings.operationsType})}applyS4CDefaults(){this.defaultTransport=DefaultTransportConfig.S4C_DEFAULT_TRANSPORT,this.atoSettings.isTransportRequestRequired=!1,this.atoSettings.devPackage=DefaultTransportConfig.S4C_DEFAULT_PACKAGE}getDummyConfig(){const e=new DummyTransportConfig;return e.getOperationsType=this.getOperationsType,e}}DefaultTransportConfig.S4C_DEFAULT_TRANSPORT="",DefaultTransportConfig.S4C_DEFAULT_PACKAGE="TEST_YY1_DEFAULT",t.getTransportConfigInstance=async function({scp:e,credentials:t={},system:i}){return e?{transportConfig:new DummyTransportConfig}:(new DefaultTransportConfig).init({credentials:t,system:i})}},81547:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transportName=t.getTransportListFromService=void 0;const a=i(55079),n=i(62637);t.getTransportListFromService=async function(e,t,{credentials:i,system:s}){try{const r=await(0,a.getOrCreateServiceProvider)(s,i),o=await r.getAdtService(n.TransportChecksService);return(await o.getTransportRequests(e,t)).map((e=>({transportReqNumber:e.transportNumber,transportReqDescription:e.description})))}catch{return}};t.transportName=e=>({name:e.transportReqDescription?`${e.transportReqNumber} (${e.transportReqDescription})`:`${e.transportReqNumber}`,value:e.transportReqNumber})},73056:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateTrDuringDeploy=t.CREATE_TR_DURING_DEPLOY=t.getTargetSystemChoices=t.isLocalPackage=t.uniformAtoFormat=t.isScp=t.handleProjectDoesNotExist=t.abapDeployConfigExists=t.indexHtmlExists=t.readExistingDeployTaskConfig=t.initBaseConfig=t.getSuggestedClient=t.getUrlAnswer=void 0;const a=i(1937),n=i(31881),s=i(68802),r=i(43895),o=i(28033),c=i(71017);t.getUrlAnswer=function(e,t){if(e.isAppStudio&&t?.destination===e?.backendConfig?.destination)return e.answers.url;{let e=t.targetSystem;return t.targetSystem&&"NoUrlSelected"!==t.targetSystem||!t.url||(e=t.url),e}},t.getSuggestedClient=function(e){let t;const i=e.scripts?.start;return i&&i.includes("sap-client")&&(t=i.split("sap-client")[1].match(/\d{1,3}/g).map(String)[0]),t},t.initBaseConfig=function(e,t){t.baseConfig=(0,s.readYaml)(e);const i=t.baseConfig.toJSON();t.baseMetadataName=i.metadata?.name,t.backendConfig=i?.server?.customMiddleware?.find((e=>e?.name===a.FIORI_TOOLS_PROXY))?.configuration?.backend?.[0]},t.readExistingDeployTaskConfig=function(e){if(e)try{const t=(0,s.readYaml)(e)?.toJSON();return t?.builder?.customTasks?.find((e=>e.name===a.ABAP_DEPLOY_TASK))?.configuration}catch(e){return}},t.indexHtmlExists=async function(e,t){const i=await(0,o.getUi5CustomWebappPath)(t),a=(0,c.join)(t,i,"index.html");return e.exists(a)},t.abapDeployConfigExists=function(e,t){return e.exists(t)},t.handleProjectDoesNotExist=function(e){const t=n.ErrorMessages.fileDoesNotExist(e.destinationPath(e.options.base));throw e.abort=!0,(0,n.handleErrorMessage)(e,e.appWizard,t),n.ErrorMessages.ABORT_SIGNAL},t.isScp=function(e,t){for(const i in t){const a=t[i];if(a.value===e)return a.scp}return!1},t.uniformAtoFormat=function(e){return Object.keys(e).includes("developmentPackage")&&(e.devPackage=e.developmentPackage),Object.keys(e).includes("developmentPrefix")&&(e.devPrefix=e.developmentPrefix),Object.keys(e).includes("isExtensibilityDevelopmentSystem")&&(e.isExtensibilityDevSystem=e.isExtensibilityDevelopmentSystem),e},t.isLocalPackage=function(e){return/^[$LlTt]/.test(e)},t.getTargetSystemChoices=async function(e,t){const i=[];if(!(0,r.isAppStudio)()){let a=!0;i.push({name:(0,n.t)("PROMPT_ABAP_ENTER_TARGET"),value:"NoUrlSelected"}),t?.unSaved&&(i.push({name:`${t.getDisplayName()} (Source system)`,value:t.url,client:t.client,isDefault:!0,scp:t.isScp()}),a=!1);const s=await(0,n.getSapSystems)();Object.values(s).forEach((t=>{let n=!1;a&&(n=t.url===e?.url&&(t.client||"")===(e?.client||"")),i.push({name:n?`${t.getDisplayName()} (Source system)`:t.getDisplayName(),value:t.url,client:t.client,isDefault:n,scp:t.isScp()})}))}return i},t.CREATE_TR_DURING_DEPLOY="REPLACE_WITH_TRANSPORT",t.useCreateTrDuringDeploy=function(e){return e.existingDeployTaskConfig?.app?.transport===t.CREATE_TR_DURING_DEPLOY}},86108:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(71017),c=s(i(57147)),p=i(73837),u=s(i(32081)),d=r(i(98819)),_=r(i(24852)),l=i(66814);(0,_.default)(d.default.prototype,l);const h=i(69288),E=i(78725),A=i(22037),T=i(43895),P=i(1628),m=i(47937),f=i(31881),R=i(6127),O=i(57029),g=i(42899),N=i(1937),S=i(68802),D=i(92747),M=i(23801),I=i(71017);class default_1 extends d.default{constructor(e,t){super(e,t,{unique:"namespace"}),this.mtaPath="",this.isCap=!1,this.addManagedApprouter=!1,this.abort=!1,this.appPath=this.destinationRoot(),this.root=this.destinationRoot(),this.launchDeployConfigAsSubGenerator=t.launchDeployConfigAsSubGenerator??!1,this.destinationAuthType=t.destinationAuthType??N.DESTINATION_AUTHTYPE_NOTFOUND,this.isFullUrlDest=t.isFullUrlDest??!1,this.addMTADestination=t.addMTADestination??!1,this.lcapModeOnly=t.lcapModeOnly??!1,this.cloudServiceName=t.cloudServiceName??void 0,this.apiHubConfig=t.apiHubConfig,this.servicePath=t.appGenServicePath,this.serviceBase=t.appGenServiceHost,this.mtaPathResult=void 0,this.options.overwrite=this.options.cfOverwrite??t.overwrite,this.launchDeployConfigAsSubGenerator&&(t.projectPath&&t.projectName?(this.appPath=(0,o.join)(t.projectPath,t.projectName),this.root=t.projectPath):this.options.destinationRoot&&(this.appPath=this.options.destinationRoot,this.root=I.dirname(this.appPath)),this.cfDestination=this._getDestinationName(t?.cfDestination),this.addManagedApprouter=t.addManagedApprouter??!1),this.additionalTelemetryData=t.additionalTelemetryData,this.env.conflicter&&(this.env.conflicter.force=t.force??!0)}_getDestinationName(e){return"string"==typeof e?e:e?.name??e?.config?.destination??e?.config?.destinationAttributes?.Name??void 0}async _initFromProjectConfig(){E.sync(N.MTA_EXECUTABLE)||(0,f.bail)({errorMessage:f.ErrorMessages.noMtaBin}),this.mtaPathResult=await(0,R.getMtaPath)(this.appPath),this.mtaPath=this.mtaPathResult?.mtaPath;const e=await(0,O.getCapProjectRoot)(this.appPath);e?(E.sync(N.CDS_EXECUTABLE)||(0,f.bail)({errorMessage:f.ErrorMessages.noCdsBin}),this.isCap=!0,this.root=e):this.root=this.mtaPath?(0,o.dirname)(this.mtaPath):(0,o.join)(this.appPath,".."),this.isCap||(this.lcapModeOnly=!1),this.sourceRoot((0,o.join)(__dirname,"..","..","templates"));const t=(0,M.processUi5Config)(this.fs,(0,o.join)(this.appPath,N.UI5_YAML));this.applyFromUi5Config(t);const i=(0,M.readDestinationFromXsApp)(this.fs,this.destinationPath((0,o.join)(this.appPath,N.XS_APP)));!this.cfDestination&&i&&(this.cfDestination=i),await this._processManifest(),await this._checkAbapDirectServiceBinding()}applyFromUi5Config(e){e?.hasOneBackend&&(this.cfDestination||(this.cfDestination=e?.cfDestination),this.serviceBase||(this.serviceBase=e?.serviceBase),this.firstServicePathSegment=e?.firstServicePathSegment)}async _checkAbapDirectServiceBinding(){this.isAbapDirectServiceBinding=await(0,R.useAbapDirectServiceBinding)(this.log,this.appPath,!1,this.mtaPath)}async _processManifest(){try{this.manifest=await(0,f.loadManifest)(this.appPath),this.appId=this.manifest.appId,this._getPropertiesFromManifest()}catch(e){throw this.log((0,f.t)("LOG_ERROR",{error:e,method:"_processManifest"})),e}}_getPropertiesFromManifest(){this.servicePath||(this.servicePath=this.manifest?.mainService?.uri),this.firstServicePathSegment&&this.firstServicePathSegment.trim()||(this.firstServicePathSegment=this.manifest?.mainService?.uri?.substring(0,this.manifest?.mainService?.uri?.indexOf("/",1)))}async _promptingYeomanUi(){this.apiHubConfig&&"API_HUB_ENTERPRISE"===this.apiHubConfig.apiHubType&&(this.cfDestination=(0,g.generateDestinationName)(N.API_BUSINESS_HUB_ENTERPRISE_PREFIX,this.servicePath));const e=await this.prompt((0,D.getQuestions)(this));Object.assign(this.answers,e),this.answers.cfDestination&&(this.cfDestination="string"==typeof e.cfDestination?e.cfDestination:e?.cfDestination?.name??void 0)}async _writeDeploymentConfigChanges(){if(this.addManagedApprouter=this.answers.addManagedApprouter,!this.abort&&!1!==this.answers.cfOverwrite&&!1!==this.options.overwrite){if(this.mtaPath?this.destinationRoot(this.root):(this.destinationRoot(this.appPath),this.lcapModeOnly||this._createMTAConfig()),!this.lcapModeOnly){await this._updateMtaConfig();const e=await this._getMtaConfig();this._copyParentTemplates(e.prefix)}await this._updatePackageJson(),this._copyLocalTemplates(),this.mtaPath&&await this._updateMtaRouterXsApp(),this._updateManifestJson()}}async _updatePackageJson(){(0,S.updatePackageScript)(this.appPath,"build:cf",S.BUILD_SCRIPT,{"@sap/ui5-builder-webide-extension":"^1.1.8","ui5-task-zipper":"^0.5.0",mbt:N.MBT_VERSION},!0),(0,S.addPackageDevDependency)(this.appPath,"@ui5/cli","^2.14.10");let e=[];if(c.existsSync((0,o.join)(this.appPath,N.MTA_EXTENSION_FILE))&&(e=["-e",N.MTA_EXTENSION_FILE]),this.mtaPathResult){const t=(await this._getMtaConfig()).prefix;this.mtaPathResult.hasRoot||(0,M.updateManagedAppRouterMtaScripts)(this.appPath,t,e)}else(0,M.updateManagedAppRouterMtaScripts)(this.appPath,(0,f.toMtaModuleName)(this.appId),e)}_updateManifestJson(){this.manifest&&this.cloudServiceName&&(this.manifest.sapCloud={...this.manifest.sapCloud||{},public:!0,service:this.cloudServiceName},this.manifest.write(this.fs))}async _updateMtaRouterXsApp(){const e=(await this._getMtaConfig()).routerModulePath;if(e){const t=this.destinationPath((0,o.join)(e,N.XS_APP)),i=this.fs.readJSON(t);try{(i&&!i?.[N.WELCOME_FILE]||"/"===i?.[N.WELCOME_FILE])&&(i[N.WELCOME_FILE]=`/${(0,f.toMtaModuleName)(this.appId)}`,c.writeFileSync(t,JSON.stringify(i,null,2)),this.log((0,f.t)("LOG_UPDATED_XSAPP")))}catch(e){this.log((0,f.t)("LOG_UPDATE_XSAPP_FAILED",{error:e}))}if(this.isAbapDirectServiceBinding&&i){const e=this._findRouteInXsApp(i,["service","endpoint"]),t=e.service,a=e.endpoint,n=(0,o.join)(this.appPath,N.XS_APP),s=this.fs.readJSON(n);let r=this._findRouteInXsApp(s,["destination"],["DIRECT_SERVICE_BINDING"]);r||(r=this._findRouteInXsApp(s,["service","endpoint"])),delete r.destination,r.service=t,r.endpoint=a,c.writeFileSync(n,JSON.stringify(s,null,2)),this.log((0,f.t)("LOG_UPDATED_XSAPP",{message:"with ABAP Direct Service Binding"}))}}}_findRouteInXsApp(e,t,i){let a;return e.routes.forEach((e=>{let n=!0;t.forEach(((t,a)=>{n=n&&e[t],i&&(n=n&&e[t]===i[a])})),n&&(a=e)})),a}_copyLocalTemplates(){this.cfDestination&&this.cfDestination!==N.DESTINATION_CHOICE_NONE?this.fs.copyTpl(this.templatePath("app/xs-app-destination.json"),(0,o.join)(this.appPath,N.XS_APP),{destination:this.cfDestination,servicePathSegment:`${this.firstServicePathSegment}${this.isFullUrlDest?"/.*":""}`,targetPath:`${this.isFullUrlDest?"":this.firstServicePathSegment}/$1`,authentication:this.destinationAuthType===N.DESTINATION_AUTHTYPE_NOAUTH?"none":"xsuaa"}):this.fs.copyTpl(this.templatePath("app/xs-app-no-destination.json"),(0,o.join)(this.appPath,N.XS_APP));let e=!1,t=!1;try{const i=this.fs.read((0,o.join)(this.appPath,N.UI5_YAML));i.includes("ui5-tooling-transpile-task")&&(e=!0),i.includes("ui5-tooling-modules-task")&&(t=!0)}catch{e=!1,t=!1}this.fs.copyTpl(this.templatePath("app/ui5-deploy.yaml"),(0,o.join)(this.appPath,N.UI5_DEPLOY),{appName:this.appId,mtaAppName:(0,f.toMtaModuleName)(this.appId),addTranspileTask:e,addModulesTask:t})}_copyParentTemplates(e){e&&!c.existsSync(this.destinationPath(N.PACKAGE_JSON))&&this.fs.copyTpl(this.templatePath("package-server.json"),this.destinationPath(N.PACKAGE_JSON),{mtaId:e}),c.existsSync(this.destinationPath(".gitignore"))||this.fs.copyTpl(this.templatePath("gitignore.tmpl"),this.destinationPath(".gitignore"),{}),this.addManagedApprouter&&!c.existsSync((0,o.join)(this.destinationPath(),N.XS_SECURITY))&&this.fs.copyTpl(this.templatePath(`app/${N.XS_SECURITY}`),(0,o.join)(this.destinationPath(),N.XS_SECURITY),{appName:(0,f.toMtaModuleName)(this.appId)})}_createMTAConfig(){if(this.isCap){const e=u.spawnSync(N.CDS_EXECUTABLE,N.CDS_ADD_MTA_COMMAND_ARGS,{cwd:this.destinationPath()});e.error&&(0,f.bail)({errorMessage:e.error.message})}else{const e=this.fs.read(this.templatePath(`app/${N.MTA_YAML}`)),t=(0,h.render)(e,{id:(0,f.toMtaModuleName)(this.appId),mtaDescription:(0,f.t)("DEFAULT_MTA_DESCRIPTION"),mtaVersion:"0.0.1"});c.writeFileSync(this.destinationPath(N.MTA_YAML),t)}this.log((0,f.t)("LOG_ADDED_MTA_YAML"))}async _getMtaConfig(){return this.mtaConfig||(this.mtaConfig=await R.MtaConfig.newInstance(this.log,this.destinationPath()),this.mtaConfig?.prefix||(this.log((0,f.t)("LOG_READ_MTA_ERROR")),this.mtaConfig=await R.MtaConfig.newInstance(this.log,this.destinationPath())),this.log((0,f.t)("LOG_READ_MTA",{prefix:this.mtaConfig.prefix}))),this.mtaConfig}async _updateMtaConfig(){const e=await this._getMtaConfig();await e.addRoutingModules(this.addManagedApprouter);const t=(0,f.toMtaModuleName)(this.appId),i=(0,T.toPosixPath)((0,o.relative)(this.destinationRoot(),this.appPath));await e.addApp(t,i||"."),this.log((0,f.t)("LOG_ADDING_APP_TO_MTA",{appModule:t}));const a=await e.getParameters();if(!a||!a[N.DEPLOY_MODE]){const t={...a};t[N.DEPLOY_MODE]="html5-repo",await e.updateParameters(t),this.log((0,f.t)("LOG_ADDING_PARAMS_TO_MTA"))}(this.addMTADestination&&this.isCap||this.cfDestination===N.DEFAULT_MTA_DESTINATION)&&(await e.updateMTADestination(this.cfDestination),this.cfDestination=this.cfDestination===N.DEFAULT_MTA_DESTINATION?(0,p.format)(N.MTA_DESTINATION,e.prefix):this.cfDestination,e.hasManagedXsuaa()||(this.destinationAuthType=N.DESTINATION_AUTHTYPE_NOAUTH));try{if(await e.save()){if(this.apiHubConfig&&"API_HUB_ENTERPRISE"===this.apiHubConfig.apiHubType)try{await e.addMtaExtensionConfig(this.cfDestination,this.serviceBase,{key:"ApiKey",value:this.apiHubConfig.apiHubKey})}catch(e){this.log((0,f.t)("ERROR_MTA_EXTENSION_FOR_ABHE_FAILED",{error:e}))}this.log((0,f.t)("LOG_UPDATED_MTA"))}else this.log((0,f.t)("LOG_UPDATE_MTA_FAILED"))}catch(e){this.log((0,f.t)("LOG_UPDATE_MTA_FAILED"),e)}this.cloudServiceName=e.getCloudServiceName}async _install(){if(!this.options.skipInstall){const e=new P.CommandRunner(this.log);this.npmInstall(void 0,void 0,{cwd:this.destinationRoot()});const t="win32"===(0,A.platform)()?"npm.cmd":"npm",i=["install","--no-audit","--no-fund","--silent","--prefer-offline","--no-progress"],a={cwd:this.appPath};await e.run(t,i,a)}}async initializing(){await P.TelemetryHelper.initTelemetrySettings({modulePackageJson:{name:"@sap/generator-fiori-deployment",version:this.rootGeneratorVersion()}}),this.additionalTelemetryData&&P.TelemetryHelper.createTelemetryData(this.additionalTelemetryData),this.launchDeployConfigAsSubGenerator||await this._initFromProjectConfig()}async prompting(){this.answers={cfDestination:this.cfDestination,addManagedApprouter:this.addManagedApprouter,cfOverwrite:this.options.overwrite},this.launchDeployConfigAsSubGenerator||await this._promptingYeomanUi()}async writing(){this.launchDeployConfigAsSubGenerator||await this._writeDeploymentConfigChanges()}async install(){if(this.launchDeployConfigAsSubGenerator)try{await this._initFromProjectConfig(),await this._writeDeploymentConfigChanges(),await this._install()}catch(e){this.log((0,f.t)("LOG_ERROR_INSTALL_PHASE",{error:e}))}else await this._install();try{const e=c.existsSync(this.destinationPath(N.PACKAGE_JSON));if(this.mtaPath&&this.mtaPathResult.hasRoot&&e){const e=await this._getMtaConfig();(0,M.updatePackageWithMtaScripts)(e.prefix,this.destinationPath()),this.log((0,f.t)("LOG_UPDATED_PACKAGE_JSON"))}this.mtaPath&&e&&(0,S.addPackageDevDependency)(this.destinationPath(),N.RIMRAF,N.RIMRAF_VERSION)}catch(e){this.log((0,f.t)("LOG_ROOT_ERROR_INSTALL_PHASE",{error:e}))}}async end(){try{const e=P.TelemetryHelper.createTelemetryData({DeployTarget:"CF",ManagedApprouter:this.answers.addManagedApprouter,MTA:this.mtaPath?"true":"false",appType:this.options.appType});(0,P.sendTelemetry)(m.EventName.DEPLOY_CONFIG,e,this.appPath)}catch(e){this.log((0,f.t)("LOG_ERROR_END_PHASE",{error:e}))}}}t.default=default_1},68326:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDestinationChoices=t.destinationQuestionDefaultOption=void 0;const a=i(23801),n=i(31881),s=i(1937),r=[{name:(0,n.t)("PROMPT_CF_LABEL_DIRECT_SERVICE_BINDING"),value:s.DESTINATION_CHOICE_DIRECT_SERVICE_BINDING}];t.destinationQuestionDefaultOption=(e,t)=>t?e.cfDestination?e.cfDestination:e.isAbapDirectServiceBinding?s.DESTINATION_CHOICE_DIRECT_SERVICE_BINDING:t?s.DESTINATION_CHOICE_NONE:"":e.cfDestination??"",t.getDestinationChoices=async function(e,t,i){let n;if(e.apiHubConfig&&"API_HUB_ENTERPRISE"===e.apiHubConfig.apiHubType)n=[{name:e.cfDestination,value:e.cfDestination}];else{const s=t?await(0,a.cfDestChoices)(e):void 0;n=i?r:s}return n=function(e,t){if(t){let i;for(let a=0;a<t.length;a++){const n=t[a];if("string"!=typeof n.value&&n.value.name===e){i=t[a],t.splice(a,1);break}}i&&t.splice(0,0,i)}return t}(e.cfDestination,n),n}},20509:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showOverwriteQuestion=t.updateGenerator=t.showManagedAppRouterQuestion=t.showDestinationQuestion=void 0;const a=i(1937),n=i(6127),s=i(77090);function r(e){return o(e)}function o(e){return void 0===e.targetName||e.targetName===a.TargetName.CF}t.showDestinationQuestion=r,t.showManagedAppRouterQuestion=async function(e,t,i){const a=await(0,n.getMtaPath)(e.targetPath);return r(t)&&!a&&!i},t.updateGenerator=function(e,t,i){if(i.cfDestination&&"string"!=typeof i.cfDestination){const e=i.cfDestination,a=new s.SapSystem(e?.name??"",e?.config??{});t.destinationAuthType=a?.config?.destinationAuthType,t.cfDestination=a.name,t.isFullUrlDest=a.isFullUrlDest()}else i.cfDestination&&(t.cfDestination=i.cfDestination,t.isFullUrlDest=!1);return!1},t.showOverwriteQuestion=function(e,t){return!(e.launchDeployConfigAsSubGenerator&&!e.launchStandaloneFromYui)&&(!e.options.overwrite&&o(t))}},92747:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(67689),t)},67689:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuestions=void 0;const r=i(1628),o=i(43895),c=s(i(53059)),p=i(20509),u=i(31881),d=i(6127),_=i(53059),l=i(68326);t.getQuestions=function(e){const t=(0,r.getPlatform)()===r.PLATFORMS.CLI,i=(0,o.isAppStudio)(),a=e.isAbapDirectServiceBinding,n=i||a?"list":"input",s=a?(0,u.t)("PROMPT_CF_DESTINATION_HINT"):(0,u.t)("PROMPT_CF_DESTINATION");return[{when:e=>(0,p.showDestinationQuestion)(e),guiOptions:{mandatory:!i||!!e.cfDestination,breadcrumb:(0,u.t)("PROMPT_CF_DESTINATION")},type:n,default:()=>(0,l.destinationQuestionDefaultOption)(e,i),name:"cfDestination",message:s,validate:t=>e.isCap&&e.root&&!(0,d.mtaConfigExistsIn)(e.root)?(0,u.t)("ERROR_CAP_DEPLOYMENT_NO_MTA"):c.validateDestinationQuestion(t,!e.cfDestination&&i),choices:async()=>(0,l.getDestinationChoices)(e,i,a)},{when:i=>(0,p.updateGenerator)(t,e,i),name:"createAuthType"},{when:async t=>(0,p.showManagedAppRouterQuestion)(e,t,e.isCap),type:"confirm",name:"addManagedApprouter",guiOptions:{breadcrumb:(0,u.t)("LABEL_ADD_APP_TO_ROUTER_BREADCRUMB")},message:()=>(0,u.t)("PROMPT_GENERATE_MANAGED_APPROUTER"),default:()=>!0},{type:"confirm",name:"cfOverwrite",guiOptions:{hint:(0,u.t)("PROMPT_OVERWRITE_ABORT")},default:()=>!0,message:()=>(0,u.t)("PROMPT_OVERWRITE_CONFIG"),when:t=>(0,p.showOverwriteQuestion)(e,t),validate:t=>(0,_.validateConfirmQuestion)(e,t)}]}},53059:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateConfirmQuestion=t.validateDestinationQuestion=void 0;const a=i(28212);t.validateDestinationQuestion=function(e,t){return!(!t&&"string"==typeof e)||function(e){if(!function(e){return!!e?.trim()}(e))return(0,a.t)("ERROR_EMPTY_NAME");const t=function(e){return/^[a-z0-9_-]+$/i.test(e)}(e);return t?!(e.length>200)||(0,a.t)("ERROR_NAME_TOO_LONG"):(0,a.t)("ERROR_NAME_MSG")}(e)},t.validateConfirmQuestion=function(e,t){return e.abort=!t,!0}},23801:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.readDestinationFromXsApp=t.cfDestChoices=t.processUi5Config=t.updateManagedAppRouterMtaScripts=t.updatePackageWithMtaScripts=void 0;const n=i(71017),s=i(57147),r=i(1937),o=i(68802),c=a(i(11029)),p=i(31881),u=i(6127),d=i(40120);t.updatePackageWithMtaScripts=function(e,t){let i=[];(0,s.existsSync)((0,n.join)(t,r.MTA_EXTENSION_FILE))&&(i=["-e",r.MTA_EXTENSION_FILE]),[{name:"undeploy",run:(0,o.UNDEPLOY_MTA_SCRIPT_TEMP)(e)},{name:"build",run:o.BUILD_MTA_SCRIPT_TEMP},{name:"deploy",run:(0,o.DEPLOY_MTA_SCRIPT_TEMP)(i),devDep:{[r.RIMRAF]:r.RIMRAF_VERSION},addUI5Dep:!1}].forEach((e=>{(0,o.updatePackageScript)(t,e.name,e.run,e.devDep??{},e.addUI5Dep??!1)}))},t.updateManagedAppRouterMtaScripts=function(e,t,i){(0,o.updatePackageScript)(e,"build:mta",o.BUILD_MTA_SCRIPT),(0,o.updatePackageScript)(e,"deploy",(0,o.DEPLOY_MTA_SCRIPT)(i)),(0,o.updatePackageScript)(e,"undeploy",(0,o.UNDEPLOY_MTA_SCRIPT_TEMP)(t))};t.processUi5Config=(e,t)=>{const i={firstServicePathSegment:void 0,cfDestination:void 0,serviceBase:void 0,hasOneBackend:!1};try{const a=c.default.safeLoad(e.read(t))?.server?.customMiddleware?.find((e=>e.name===r.FIORI_TOOLS_PROXY))?.configuration?.backend;1===a?.length&&(i.cfDestination=a[0].destination,i.serviceBase=a[0].url,i.firstServicePathSegment=a[0].path,i.hasOneBackend=!0)}catch(e){}return i};t.cfDestChoices=async e=>{const t=[];try{let i;if(e.isCap){i=(await u.MtaConfig.newInstance(e.log,e.root)).getExposedDestinations(),i?.length&&t.push({name:(0,p.t)("PROMPT_INSTANCE_BASED_DEST_DEFAULT"),value:r.DEFAULT_MTA_DESTINATION})}else{const{mtaPath:t}=await(0,u.getMtaPath)(e.root),a=t?.split(r.MTA_YAML)[0];i=(await u.MtaConfig.newInstance(e.log,a)).getExposedDestinations(!0)}i?.length&&i.forEach((e=>{t.push({name:(0,p.t)("PROMPT_INSTANCE_BASED_DEST",{destination:e}),value:e})}))}catch(t){(0,d.debug)(e.log,(0,p.t)("ERROR_MTA_DESTINATIONS"))}const i=await(0,p.getCfDestinationChoices)(!0);return t.push(...i),e.cfDestination||t.splice(0,0,{name:(0,p.t)("PROMPT_CF_LABEL_NONE"),value:r.DESTINATION_CHOICE_NONE}),t},t.readDestinationFromXsApp=function(e,t){try{if(!t)return;const i=e.readJSON(t);if(!i||!i.routes)return;const a=(Array.isArray(i.routes)?i.routes:[i.routes]).filter((e=>e.destination&&"ui5"!==e.destination));return 1===a?.length?a[0].destination:void 0}catch(e){return}}},1937:(e,t)=>{"use strict";var i,a,n;Object.defineProperty(t,"__esModule",{value:!0}),t.generatorNamespace=t.bundledRootGeneratorName=t.i18nKeySubTitle=t.i18nKeyTitle=t.ABAP_PACKAGE_SEARCH_MAX_RESULTS=t.API_BUSINESS_HUB_ENTERPRISE_PREFIX=t.MANAGED_XSUAA=t.UI5_URL=t.SRV_API_DEFAULT_URL=t.SRV_API=t.DEFAULT_MTA_DESTINATION=t.MTA_DESTINATION=t.XS_SECURITY=t.MTA_EXTENSION_FILE=t.MTA_YAML=t.PACKAGE_JSON=t.DEPLOY_MODE=t.UI5_YAML=t.UI5_DEPLOY=t.XS_APP=t.RIMRAF=t.RIMRAF_VERSION=t.MBT=t.MBT_VERSION=t.UI5_TASK_FLATTEN_LIB_VERSION=t.UI5_TASK_FLATTEN_LIB=t.ABAP_DEPLOY_TASK=t.WELCOME_FILE=t.DESTINATION_AUTHTYPE_NOAUTH=t.DESTINATION_AUTHTYPE_NOTFOUND=t.DESTINATION_CHOICE_DIRECT_SERVICE_BINDING=t.DESTINATION_CHOICE_NONE=t.RouterModuleType=t.HttpStatus=t.MTA_VERSION=t.MTA_DESCRIPTION=t.TargetName=t.CDS_ADD_MTA_COMMAND_ARGS=t.MTA_PKG=t.MTA_EXECUTABLE=t.CDS_PKG=t.CDS_EXECUTABLE=t.ROUTER_MODULE=t.CLOUD_FOUNDRY_FOLDER=t.FIORI_TOOLS_PROXY=t.DEPLOYER_MODULE_TYPE=t.ROUTER_MODULE_TYPE=void 0,t.ROUTER_MODULE_TYPE="approuter.nodejs",t.DEPLOYER_MODULE_TYPE="com.sap.html5.application-content",t.FIORI_TOOLS_PROXY="fiori-tools-proxy",t.CLOUD_FOUNDRY_FOLDER="cf",t.ROUTER_MODULE="router",t.CDS_EXECUTABLE="cds",t.CDS_PKG="@sap/cds-dk",t.MTA_EXECUTABLE="mta",t.MTA_PKG="mta",t.CDS_ADD_MTA_COMMAND_ARGS=["add","mta"],function(e){e.ABAP="abap",e.CF="cf"}(i||(t.TargetName=i={})),t.MTA_DESCRIPTION="Fiori elements app",t.MTA_VERSION="0.0.1",function(e){e[e.UNAUTHORIZED=401]="UNAUTHORIZED"}(a||(t.HttpStatus=a={})),function(e){e.Standard="Standard",e.Managed="Managed"}(n||(t.RouterModuleType=n={})),t.DESTINATION_CHOICE_NONE="NONE",t.DESTINATION_CHOICE_DIRECT_SERVICE_BINDING="DIRECT_SERVICE_BINDING",t.DESTINATION_AUTHTYPE_NOTFOUND="NotAvailable",t.DESTINATION_AUTHTYPE_NOAUTH="NoAuthentication",t.WELCOME_FILE="welcomeFile",t.ABAP_DEPLOY_TASK="deploy-to-abap",t.UI5_TASK_FLATTEN_LIB="ui5-task-flatten-library",t.UI5_TASK_FLATTEN_LIB_VERSION="0.2.5",t.MBT_VERSION="^1.2.18",t.MBT="mbt",t.RIMRAF_VERSION="^3.0.2",t.RIMRAF="rimraf",t.XS_APP="xs-app.json",t.UI5_DEPLOY="ui5-deploy.yaml",t.UI5_YAML="ui5.yaml",t.DEPLOY_MODE="deploy_mode",t.PACKAGE_JSON="package.json",t.MTA_YAML="mta.yaml",t.MTA_EXTENSION_FILE="mta-ext.mtaext",t.XS_SECURITY="xs-security.json",t.MTA_DESTINATION="%s-srv-api",t.DEFAULT_MTA_DESTINATION="fiori-default-srv-api",t.SRV_API="srv-api",t.SRV_API_DEFAULT_URL="${default-url}",t.UI5_URL="https://ui5.sap.com",t.MANAGED_XSUAA="managed:xsuaa",t.API_BUSINESS_HUB_ENTERPRISE_PREFIX="ABHE",t.ABAP_PACKAGE_SEARCH_MAX_RESULTS=50,t.i18nKeyTitle="flpTitle",t.i18nKeySubTitle="flpSubtitle",t.bundledRootGeneratorName="@sap/fiori:fiori-deployment";t.generatorNamespace=e=>`${t.bundledRootGeneratorName}_${e}`},57029:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapProjectRoot=void 0;const a=i(57147),n=i(11057),s=i(71017),r=i(74448);t.getCapProjectRoot=function(e){return n((async e=>await(0,r.isCapProject)(e)&&((0,a.existsSync)((0,s.join)(e,"gen"))||(0,a.existsSync)((0,s.join)(e,"srv"))||(0,a.existsSync)((0,s.join)(e,"db")))&&e),{cwd:e,type:"directory"})}},40120:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0;const a=i(1628);t.debug=function(e,t){(0,a.getPlatform)()!==a.PLATFORMS.CLI&&e(`[YUI DEBUG] ${t}`)}},42899:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSapSystem=t.getSapSystems=t.generateDestinationName=t.getCfDestinationChoices=void 0;const a=i(77090);let n={};async function s(e=!0){return e&&0!==Object.keys(n).length||(n=await(0,a.listSAPSystems)()),n}t.getCfDestinationChoices=async function(e=!1){const t=await s();return Object.values(t).map((t=>({name:`${t.name}${t.isScp()?"(SCP)":""} - ${t.url}`,value:e?t:t.name,scp:t.isScp(),url:t.url})))},t.generateDestinationName=function(e,t){return`${e}_${t.replace(/(^\/)|(\/$)/g,"").replace(/\//g,"_")}`},t.getSapSystems=s,t.findSapSystem=function(e,t){return t?.["string"==typeof e?e:e.name]}},35117:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessages=void 0;const a=i(1937),n=i(28212),s=(e,t)=>(0,n.t)("ERROR_CANNOT_FIND_BINARY",{bin:e,pkg:t});class ErrorMessages{}t.ErrorMessages=ErrorMessages,ErrorMessages.ABORT_SIGNAL="ABORT_SIGNAL",ErrorMessages.noManifest=(0,n.t)("ERROR_NO_MANIFEST"),ErrorMessages.noAppName=(0,n.t)("ERROR_NO_APPNAME"),ErrorMessages.noCdsBin=s(a.CDS_EXECUTABLE,a.CDS_PKG),ErrorMessages.noMtaBin=s(a.MTA_EXECUTABLE,a.MTA_PKG),ErrorMessages.noMta=(0,n.t)("ERROR_NO_MTA"),ErrorMessages.noPath=(0,n.t)("ERROR_NO_PATH"),ErrorMessages.noMtaId=(0,n.t)("ERROR_NO_MTA_ID"),ErrorMessages.invalidMtaId=(0,n.t)("ERROR_INVALID_MTA_ID"),ErrorMessages.capDeploymentnoMta=(0,n.t)("ERROR_CAP_DEPLOYMENT_NO_MTA"),ErrorMessages.mtaIdAlreadyExist=e=>(0,n.t)("ERROR_MTA_ID_ALREADY_EXIST",{destinationRoot:e}),ErrorMessages.noMtaInRoot=e=>(0,n.t)("ERROR_NO_MTA_ROOT",{mtaFileName:a.MTA_YAML,root:e}),ErrorMessages.unrecognizedTarget=e=>(0,n.t)("ERROR_UNRECOGNIZED_TARGET",{target:e}),ErrorMessages.cannotReadUi5Config=e=>(0,n.t)("ERROR_CANNOT_READ_UI5_CONFIG",{reason:e}),ErrorMessages.fileDoesNotExist=e=>(0,n.t)("ERROR_FILE_NOT_EXIST",{filePath:e}),ErrorMessages.folderDoesNotExist=e=>(0,n.t)("ERROR_FOLDER_NOT_EXIST",{filePath:e}),ErrorMessages.invalidClient=e=>(0,n.t)("ERROR_INVALID_CLIENT",{client:e}),ErrorMessages.invalidURL=e=>(0,n.t)("ERROR_INVALID_URL",{input:e})},68802:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.writeUi5RepositoryFiles=t.writeUi5RepositoryFile=t.getYamlType=t.readYaml=t.addUi5Dependency=t.addPackageDevDependency=t.updatePackageScript=t.dirExists=t.BUILD_MTA_SCRIPT_TEMP=t.DEPLOY_MTA_SCRIPT_TEMP=t.UNDEPLOY_MTA_SCRIPT_TEMP=t.DEPLOY_MTA_SCRIPT=t.BUILD_MTA_SCRIPT=t.BUILD_SCRIPT=void 0;const o=i(57147),c=i(71017),p=s(i(52375)),u=i(1937),d=r(i(37865)),_=r(i(26692)),l=i(28033);t.BUILD_SCRIPT="ui5 build preload --clean-dest --config ui5-deploy.yaml --include-task=generateCachebusterInfo",t.BUILD_MTA_SCRIPT="rimraf resources mta_archives && mbt build";t.DEPLOY_MTA_SCRIPT=(e=[])=>"fiori cfDeploy"+(e.length>0?` ${e.join(" ")}`:"");t.UNDEPLOY_MTA_SCRIPT_TEMP=e=>`cf undeploy ${e} --delete-services --delete-service-keys --delete-service-brokers`;function h(e){return p.parseDocument((0,o.readFileSync)(e,"utf-8"))}t.DEPLOY_MTA_SCRIPT_TEMP=(e=[])=>`cf deploy mta_archives/archive.mtar ${e.length>0?`${e.join(" ")} `:""}--retries 1`,t.BUILD_MTA_SCRIPT_TEMP="rimraf resources mta_archives && mbt build --mtar archive",t.dirExists=function(e){try{return(0,o.statSync)(e)?.isDirectory()}catch{return!1}},t.updatePackageScript=function(e,t,i,a,n=!1){const s=(0,c.join)(e,u.PACKAGE_JSON),r=JSON.parse((0,o.readFileSync)(s,"utf-8"));if(r.scripts||(r.scripts={}),r.scripts[t]=i,a){const{devDependencies:e={},ui5:t={}}=r;r.devDependencies=e,n&&(r.ui5={...t,dependencies:t.dependencies??[]});for(const e in a)r.devDependencies[e]||(r.devDependencies[e]=a[e]),n&&!r.ui5.dependencies.find((t=>t===e))&&r.ui5.dependencies.push(e)}(0,o.writeFileSync)(s,JSON.stringify(r,null,4))},t.addPackageDevDependency=function(e,t,i){const a=(0,c.join)(e,u.PACKAGE_JSON),n=JSON.parse((0,o.readFileSync)(a,"utf-8"));n.devDependencies=n.devDependencies||{},n.devDependencies[t]||(n.devDependencies[t]=i),(0,o.writeFileSync)(a,JSON.stringify(n,null,4))},t.addUi5Dependency=function(e,t){const i=(0,c.join)(e,u.PACKAGE_JSON),a=JSON.parse((0,o.readFileSync)(i,"utf-8"));a.ui5=a.ui5||{},a.ui5.dependencies=a.ui5.dependencies||[],a.ui5.dependencies.includes(t)||a.ui5.dependencies.push(t),(0,o.writeFileSync)(i,JSON.stringify(a,null,4))},t.readYaml=h,t.getYamlType=function(e,t){let i;const a=(0,c.join)(e,t);if((0,o.existsSync)(a)){i=h(a).toJSON().type}return i};t.writeUi5RepositoryFile=(e,t,i)=>{const a=(0,c.join)(e,t);let n;(0,o.existsSync)(a)?(n=(0,o.readFileSync)(a,"utf-8"),n.includes(i)||(n=`${n}\n${i}`)):n=i,(0,o.writeFileSync)(a,n)};t.writeUi5RepositoryFiles=async e=>{const i=(0,c.join)(e,await(0,l.getUi5CustomWebappPath)(e));(await(0,d.default)((0,_.default)((0,c.join)(i,"/**/*.ts"))))?.length>0&&(0,t.writeUi5RepositoryFile)(i,".Ui5RepositoryTextFiles","^.*.ts$")}},28212:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.t=t.addTranslations=t.initI18n=void 0;const n=a(i(94336)),s=a(i(91046)),r="deploy";async function o(){await n.default.init({resources:{en:{[r]:s.default}},lng:"en",fallbackLng:"en",defaultNS:r,ns:[r]})}t.initI18n=o,t.addTranslations=function(e,t){n.default.addResources("en",t,e)},t.t=function(e,t){return t={...t,interpolation:{...t?.interpolation,escapeValue:!1}},n.default.t(e,t)},o()},31881:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||a(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.t=t.ErrorMessages=t.isS4Installed=t.loadManifest=t.parseTarget=t.getEnvApiHubConfig=t.isAppStudio=t.CF_ENV=t.handleErrorMessage=t.bail=t.toMtaModuleName=void 0;const s=i(1628),r=i(40120),o=i(25184),c=i(71017),p=i(16484),u=i(28033),d=i(35117);function _({errorMessage:e}){throw new Error(e)}var l;t.toMtaModuleName=function(e){return e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>]/gi,"")},t.bail=_,t.handleErrorMessage=function(e,t,i){(0,s.getPlatform)()===s.PLATFORMS.CLI?_({errorMessage:i}):(e.transportConfigError=i,(0,r.debug)(e.log,i),t?.showError(i,o.MessageType.notification))},function(e){e.H2O_URL="H2O_URL"}(l||(t.CF_ENV=l={})),t.isAppStudio=function(){return!!process.env[l.H2O_URL]},t.getEnvApiHubConfig=function(){const e=process.env[s.API_HUB_API_KEY],t=process.env[s.API_HUB_TYPE];return e?{apiHubKey:e,apiHubType:"API_HUB_ENTERPRISE"===t?"API_HUB_ENTERPRISE":"API_HUB"}:void 0},t.parseTarget=function(e,t){let i;return e&&("string"==typeof e?i=e:Array.isArray(e)&&(i=e?.[0])),i||(i=t.target),i},t.loadManifest=async function(e){let t;try{t=new p.Manifest((0,c.join)(e,await(0,u.getUi5CustomWebappPath)(e)))}catch{_({errorMessage:d.ErrorMessages.noManifest})}return t?.appId||_({errorMessage:d.ErrorMessages.noAppName}),t},t.isS4Installed=async function(e){return(await(0,s.findInstalledPackages)("@sapux/s4-fiori-gen-ext",{keyword:"fiori-generator-extension",vscWorkspaceConfig:e})).length>0};var h=i(35117);Object.defineProperty(t,"ErrorMessages",{enumerable:!0,get:function(){return h.ErrorMessages}});var E=i(28212);Object.defineProperty(t,"t",{enumerable:!0,get:function(){return E.t}}),n(i(40120),t),n(i(74475),t),n(i(42899),t)},16484:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Manifest=t.idPropertyPath=t.inboundsPropertyPath=t.crossNavigationPropertyPath=void 0;const r=s(i(57147)),o=s(i(71017)),c="sap.app";t.crossNavigationPropertyPath=[c,"crossNavigation"],t.inboundsPropertyPath=[...t.crossNavigationPropertyPath,"inbounds"],t.idPropertyPath=[c,"id"];t.Manifest=class Manifest{constructor(e){this.CONFIG_FILE="manifest.json",this.manifestPath=e,this.contents=JSON.parse((0,r.readFileSync)(this.manifestPath).toString())}set manifestPath(e){this._appPath=o.join(e,this.CONFIG_FILE)}get manifestPath(){return this._appPath}get appId(){return this.contents?.["sap.app"]?.id}get applicationVersion(){return this.contents["sap.app"]?.applicationVersion?.version}get dataSources(){return this.contents["sap.app"].dataSources??{}}get mainService(){const e=this.contents["sap.ovp"]?this.contents["sap.ovp"].globalFilterModel:"",t=this.contents["sap.ui5"]&&this.contents["sap.ui5"].models&&this.contents["sap.ui5"].models[e]?this.contents["sap.ui5"].models[e].dataSource:void 0;return this.dataSources[t]}get inbound(){const e=this.contents["sap.app"].crossNavigation?.inbounds;return e?{name:Object.keys(e)?.[0],inbound:Object.values(e)?.[0]}:{}}set crossNavigation(e){this.contents["sap.app"].crossNavigation=e}get crossNavigation(){return this.contents["sap.app"].crossNavigation}get sapCloud(){return this.contents["sap.cloud"]}set sapCloud(e){this.contents["sap.cloud"]=e}get i18nFilePath(){return this.contents["sap.app"].i18n}write(e){e?.readJSON(this.manifestPath)?e.writeJSON(this.manifestPath,this.contents,null,4):r.default.writeFileSync(this.manifestPath,JSON.stringify(this.contents,null,4))}}},6127:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAbapDirectServiceBinding=t.MtaConfig=t.mtaConfigExistsIn=t.getMtaPath=void 0;const a=i(11057),n=i(75406),s=i(1937),r=i(57147),o=i(73837),c=i(71017),p=i(40120),u=i(28212),d=i(38703),_=i(69288),l={name:s.SRV_API,properties:{"srv-url":s.SRV_API_DEFAULT_URL}},h={Name:s.MTA_DESTINATION,Type:"HTTP",URL:"~{srv-api/srv-url}",ProxyType:"Internet",Authentication:"NoAuthentication","HTML5.DynamicDestination":!0,"HTML5.ForwardAuthToken":!0},E={Name:"ui5",Type:"HTTP",URL:s.UI5_URL,ProxyType:"Internet",Authentication:"NoAuthentication"},A={init_data:{instance:{existing_destinations_policy:"update",destinations:[{Name:"ui5",Type:"HTTP",URL:s.UI5_URL,ProxyType:"Internet",Authentication:"NoAuthentication"}]}}},T={group:"destinations",properties:{forwardAuthToken:!1,name:"ui5",url:s.UI5_URL}},P={HTML5Runtime_enabled:!0,version:"1.0.0",...A};async function m(e){const t=await a(s.MTA_YAML,{cwd:e});if(t){return{mtaPath:t,hasRoot:(0,c.dirname)(t)!==e}}}t.getMtaPath=m,t.mtaConfigExistsIn=function(e){return(0,r.existsSync)((0,c.join)(e,s.MTA_YAML))};class MtaConfig{static async newInstance(e,t){return new MtaConfig(t).init(e)}constructor(e){this.apps=new Map,this.modules=new Map,this.resources=new Map,this.dirty=!1,this.mta=new n.Mta(e)}async init(e){this.log=e;try{await this.loadResources(),await this.loadModules(),this._mtaId=await this.mta.getMtaID()}catch(e){(0,p.debug)(this.log,(0,u.t)("ERROR_UNABLE_TO_LOAD_MTA"))}return this}_contextTargetExists(e,t){return e&&-1!==e.findIndex((e=>!0===e.parameters?.["content-target"]&&this.resources.get(t)?.name===e.name))}async loadResources(){(await this.mta.getResources()||[]).forEach((e=>{e.parameters?.service&&("html5-apps-repo"===e.parameters?.service?this.resources.set("app-host"===e.parameters["service-plan"]?"html5-apps-repo:app-host":"html5-apps-repo:app-runtime",e):"xsuaa"===e.parameters?.service?this.resources.set(s.MANAGED_XSUAA,e):"org.cloudfoundry.existing-service"===e.type?this.resources.set(e.name,e):this.resources.set(e.parameters.service,e))}))}async loadModules(){(await this.mta.getModules()||[]).forEach((e=>{e.type&&("html5"===e.type?this.apps.set(e.name,e):this._contextTargetExists(e.requires,"destination")?this.modules.set("com.sap.application.content:destination",e):this._contextTargetExists(e.requires,"html5-apps-repo:app-host")?this.modules.set("com.sap.application.content:resource",e):this.modules.set(e.type,e))}))}get prefix(){return this._mtaId}get routerModulePath(){return this.modules.get("approuter.nodejs")?.path}get getCloudServiceName(){let e;return this.modules.forEach((t=>{const i=t.parameters?.content?.instance?.destinations||[];"com.sap.application.content"===t.type&&i.length&&i.some((t=>{if(e=t["sap.cloud.service"]||void 0,e)return!0}))})),e}async getParameters(){return this.mta.getParameters()}async updateParameters(e){await this.mta.updateParameters(e)}async addApp(e,t){const i=this.modules.get("com.sap.application.content:resource");i&&(i["build-parameters"]=i["build-parameters"]||{},i["build-parameters"]["build-result"]=i["build-parameters"]?.["build-result"]||"resources",i["build-parameters"].requires=i["build-parameters"].requires||[],-1===i["build-parameters"].requires?.findIndex((t=>t.name===e))&&i["build-parameters"].requires.push({name:e.slice(0,128),artifacts:[`${e.slice(0,128)}.zip`],"target-path":`${i["build-parameters"]["build-result"]}/`}),await this.mta.updateModule(i));if(!this.apps.get(e)){const i={name:e.slice(0,128),type:"html5",path:t,"build-parameters":{builder:"custom","build-result":"dist",commands:["npm install","npm run build:cf"],"supported-platforms":[]}};await this.mta.addModule(i),this.apps.set(e,i)}this.dirty=!0}async addConnectivityResource(){const e="connectivity",t=`${this.prefix}-connectivity`,i=this.modules.get("approuter.nodejs");i.requires=i.requires||[],-1===i.requires.findIndex((e=>e.name===t))&&(i.requires.push({name:t}),await this.mta.updateModule(i));const a={name:t,type:"org.cloudfoundry.managed-service",parameters:{service:e,"service-plan":"lite"}};this.resources.has(e)||(await this.mta.addResource(a),this.resources.set(e,a)),this.dirty=!0}async addRoutingModules(e){e&&(this.modules.has("com.sap.application.content:destination")||await this.addManagedAppRouter()),this.modules.has("com.sap.application.content:resource")||await this.addAppContent(),this.resources.get("destination")?await this.updateDestinationResource(this.modules.has("com.sap.application.content:destination")):await this.addDestinationResource(this.modules.has("com.sap.application.content:destination"));for(const e of[this.modules.get("com.sap.application.content:destination"),this.modules.get("approuter.nodejs")].filter((e=>void 0!==e)))e.requires=e.requires||[],-1===e.requires?.findIndex((e=>e.name===this.resources.get("destination").name))&&("approuter.nodejs"===e.type&&e.requires.push({name:this.resources.get("destination").name,...T}),"com.sap.application.content"===e.type&&e.requires.push({name:this.resources.get("destination").name,parameters:{"content-target":!0}}),await this.mta.updateModule(e),this.dirty=!0)}async addAbapService(e){const t=`${this.prefix}-abap-${e.label}`,i=this.modules.get("approuter.nodejs");i.requires=i.requires||[],-1===i.requires.findIndex((e=>e.name===t))&&(i.requires.push({name:t}),await this.mta.updateModule(i));const a={name:t,type:"org.cloudfoundry.existing-service",parameters:{"service-name":e.label,protocol:["ODataV2"],service:e.service,"service-plan":"16_abap_64_db"}};this.resources.has(t)||(await this.mta.addResource(a),this.resources.set(t,a)),this.dirty=!0}isAbapDirectServiceBinding(){let e=!1;const t=Array.from(this.resources.keys());for(const i of t)if(0===i.indexOf(`${this.prefix}-abap-`)){e=!0;break}return e}async addAppContent(){this.resources.has("html5-apps-repo:app-host")||await this.addHtml5Host();const e={name:`${this.prefix}-app-content`,type:"com.sap.application.content",path:".",requires:[{name:this.resources.get("html5-apps-repo:app-host").name,parameters:{"content-target":!0}}],"build-parameters":{"build-result":"resources",requires:[]}};await this.mta.addModule(e),this.modules.set("com.sap.application.content:resource",e),this.dirty=!0}async addStandaloneRouter(e=!1){this.resources.has("xsuaa")||await this.addUaa(),this.resources.has("html5-apps-repo:app-runtime")||await this.addHtml5Runtime(),this.resources.has("destination")||await this.addDestinationResource();const t={name:`${this.prefix}-router`,type:"approuter.nodejs",path:e?`${s.ROUTER_MODULE}`:`${s.CLOUD_FOUNDRY_FOLDER}/${s.ROUTER_MODULE}`,parameters:{"disk-quota":"256M",memory:"256M"},requires:[{name:this.resources.get("html5-apps-repo:app-runtime").name},{name:this.resources.get("xsuaa").name},{name:this.resources.get("destination").name,group:"destinations",properties:{name:"ui5",url:"https://ui5.sap.com",forwardAuthToken:!1}}]};await this.mta.addModule(t),this.modules.set("approuter.nodejs",t),this.dirty=!0}async addUaa(){const e={name:`${this.prefix}-uaa`,type:"org.cloudfoundry.managed-service",parameters:{"service-plan":"application",service:"xsuaa",config:{xsappname:this.prefix+"-${space-guid}","tenant-mode":"dedicated"}}};await this.mta.addResource(e),this.resources.set("xsuaa",e),this.dirty=!0}async addHtml5Runtime(){const e={name:this.prefix+"-html5-repo-runtime",type:"org.cloudfoundry.managed-service",parameters:{"service-plan":"app-runtime",service:"html5-apps-repo"}};await this.mta.addResource(e),this.resources.set("html5-apps-repo:app-runtime",e),this.dirty=!0}async addHtml5Host(){const e={name:`${this.prefix}-repo-host`,type:"org.cloudfoundry.managed-service",parameters:{"service-name":`${this.prefix}-html5-srv`,"service-plan":"app-host",service:"html5-apps-repo"}};await this.mta.addResource(e),this.resources.set("html5-apps-repo:app-host",e),this.dirty=!0}async addDestinationResource(e=!1){const t=`${this.prefix}-destination-service`,i={name:t,type:"org.cloudfoundry.managed-service",parameters:{service:"destination","service-name":t,"service-plan":"lite",config:{...P,HTML5Runtime_enabled:e}}};await this.mta.addResource(i),this.resources.set("destination",i),this.dirty=!0}async updateDestinationResource(e=!1){const t=this.resources.get("destination");t&&(t.parameters={...t.parameters??{},config:{...t.parameters.config??{},HTML5Runtime_enabled:e}},t.parameters?.config?.init_data?.instance?.destinations||(t.parameters.config={...t.parameters.config,...A}),t.parameters?.config?.init_data?.instance?.destinations?.some((e=>e.Name===E.Name))||t.parameters.config.init_data.instance.destinations.push(E),await this.mta.updateResource(t),this.resources.set("destination",t),this.dirty=!0)}hasManagedXsuaa(){return this.resources.has(s.MANAGED_XSUAA)}async updateServerModule(e){const t=this.resources.get(s.MANAGED_XSUAA),i=this.modules.get(e);i&&(i.provides?.some((e=>e.name===s.SRV_API))||(i.provides=[...i.provides??[],l]),t&&!i.requires?.some((e=>e.name===t.name))&&(i.requires=[...i.requires??[],{name:t.name}]),await this.mta.updateModule(i),this.modules.set(e,i),this.dirty=!0)}async addMtaExtensionConfig(e,t,i){const a=this.resources.get("destination")?.name;a||(0,p.debug)(this.log,(0,u.t)("WARN_EXISTING_DESTINATION_SERVICE_NOT_FOUND"));const n=this._mtaId,o=(0,c.join)(this.mta.mtaDirPath,s.MTA_EXTENSION_FILE);let l;try{const e=(0,r.readFileSync)(o,"utf-8");l=await d.YamlDocument.newInstance(e)}catch(e){(0,p.debug)(this.log,(0,u.t)("INFO_EXISTING_MTA_EXTENSION_NOT_FOUND"))}if(l){const n=l.getSequence({path:"resources"}).items.findIndex((e=>e.get("name")===a));if(n>-1){const a={Authentication:"NoAuthentication",Name:e,ProxyType:"Internet",Type:"HTTP",URL:t,[`URL.headers.${i.key}`]:i.value};l.appendTo({path:`resources.${n}.parameters.config.init_data.instance.destinations`,value:a}),(0,r.writeFileSync)(o,l.toString()),this.log((0,u.t)("INFO_MTA_EXT_UPDATED",{mtaExtFile:s.MTA_EXTENSION_FILE}))}else(0,p.debug)(this.log,(0,u.t)("ERROR_MTA_EXTENSION_ADDITION_FAILED",{mtaExtFilePath:o}))}else{const p={appMtaId:n,mtaExtensionId:`${n}-ext`,destinationName:e,destinationUrl:t,headerKey:i.key,headerValue:i.value,destinationServiceName:a,mtaVersion:"1.0.0"},d=(0,r.readFileSync)((0,c.join)(__dirname,`../../templates/app/${s.MTA_EXTENSION_FILE}`),"utf-8");(0,r.writeFileSync)(o,(0,_.render)(d,p)),this.log((this.log,(0,u.t)("INFO_MTA_EXT_CREATED",{appMtaId:n,mtaExtFile:s.MTA_EXTENSION_FILE})))}}async updateMTADestination(e){const t=this.resources.get("destination");if(t){t.requires?.some((e=>e.name===s.SRV_API))||(t.requires=[...t.requires??[],{name:s.SRV_API}]);const i=e===s.DEFAULT_MTA_DESTINATION?(0,o.format)(s.MTA_DESTINATION,this.prefix):e;t.parameters?.config?.init_data?.instance?.destinations?.some((e=>e.Name===i))||t.parameters?.config?.init_data?.instance?.destinations?.push({...h,Name:i}),await this.mta.updateResource(t),this.resources.set("destination",t),this.dirty=!0,await this.updateServerModule(this.modules.has("nodejs")?"nodejs":"java")}}async addManagedUaa(){const e={name:`${this.prefix}-uaa`,type:"org.cloudfoundry.managed-service",parameters:{path:"./xs-security.json",service:"xsuaa","service-name":`${this.prefix}-xsuaa-srv`,"service-plan":"application"}};await this.mta.addResource(e),this.resources.set(s.MANAGED_XSUAA,e),this.dirty=!0}async save(){return this.dirty&&await this.mta.save(),this.dirty}async addManagedAppRouter(){this.resources.has("destination")||await this.addDestinationResource(!0),this.resources.has(s.MANAGED_XSUAA)||await this.addManagedUaa(),this.resources.has("html5-apps-repo:app-host")||await this.addHtml5Host();const e={name:`${this.prefix}-destination-content`,type:"com.sap.application.content",requires:[{name:this.resources.get("destination").name,parameters:{"content-target":!0}},{name:this.resources.get("html5-apps-repo:app-host").name,parameters:{"service-key":{name:`${this.resources.get("html5-apps-repo:app-host").name}-key`}}},{name:this.resources.get(s.MANAGED_XSUAA).name,parameters:{"service-key":{name:`${this.resources.get(s.MANAGED_XSUAA).name}-key`}}}],parameters:{content:{instance:{destinations:[{Name:`${this.prefix}_html_repo_host`,ServiceInstanceName:this.resources.get("html5-apps-repo:app-host").parameters["service-name"],ServiceKeyName:`${this.resources.get("html5-apps-repo:app-host").name}-key`,"sap.cloud.service":`${this.prefix}`},{Authentication:"OAuth2UserTokenExchange",Name:`${this.prefix}_uaa`,ServiceInstanceName:this.resources.get(s.MANAGED_XSUAA).parameters["service-name"],ServiceKeyName:`${this.resources.get(s.MANAGED_XSUAA).name}-key`,"sap.cloud.service":`${this.prefix}`}],existing_destinations_policy:"ignore"}}},"build-parameters":{"no-source":!0}};await this.mta.addModule(e),this.modules.set("com.sap.application.content:destination",e),this.dirty=!0}verifyDestination(e,t){if(e){const e=t.WebIDEUsage;return!(!e||"odata_gen"!==e&&"odata_abap"!==e)}return!0}getExposedDestinations(e=!1){const t=[],i=this.resources.get("destination");i&&(i.parameters?.config?.init_data?.instance?.destinations?.forEach((i=>this.verifyDestination(e,i)&&t.push(i.Name))),i.parameters?.config?.init_data?.subaccount?.destinations?.forEach((i=>this.verifyDestination(e,i)&&t.push(i.Name))));const a=this.modules.get("com.sap.application.content:destination");return a&&a.parameters?.content?.instance?.destinations?.map((i=>this.verifyDestination(e,i)&&t.push(i.Name))),t}}t.MtaConfig=MtaConfig,t.useAbapDirectServiceBinding=async function(e,t,i,a=""){try{let n;if(i){const e=await m(t);e&&(n=(0,c.dirname)(e.mtaPath))}else a&&(n=(0,c.dirname)(a));if(n){const t=await MtaConfig.newInstance(e,n);return this.isAbapDirectServiceBinding=t.isAbapDirectServiceBinding()}return!1}catch(t){return(0,p.debug)(e,t),!1}}},74475:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listPackages=t.createTransportNumber=t.getTransportList=t.initTransportConfig=t.validateAppDescription=t.validateAppName=t.isValidClient=t.notExistsValidateClient=t.isValidURL=void 0;const a=i(31881),n=i(77090),s=i(98308),r=i(62283),o=i(56821);async function c(e,t){let i;return t?.isSameSystem?.(e.url,e.client)||t?.config?.destination&&e?.destination===t?.config?.destination&&t?.getConnection()?i=t:e.destination?e.destination&&(i=(0,n.newSapSystemForDestinaton)({destination:e.destination})):i=await async function(e,t){try{return await(0,n.getSapSystem)(e,t?.toString())}catch{return}}(e.url,e.client),i}function p(e){const t=e?.trim()||"";return""===t||!!t.match(/^[0-9]{3}$/)}t.isValidURL=function(e){try{const t=new URL(e);return!!t.protocol&&!!t.host}catch{return!1}},t.notExistsValidateClient=function(e){return!e.client||e.client&&!p(e.client)},t.isValidClient=p,t.validateAppName=function(e,t){const i=[],n=e?e.trim().length:0;if(n)if(e.split("/").length-1>=3)i.push((0,a.t)("PROMPT_ABAP_INVALID_NAMESPACE"));else if(e.match(/^\/.*\/\w*$/g)){const t=e.split("/");let n;t[1].length>10&&(n=(0,a.t)("PROMPT_ABAP_INVALID_NAMESPACE_LENGTH",{length:t[1].length})),t[2].length>15&&(n=`${n?n+", ":""}${(0,a.t)("PROMPT_ABAP_INVALID_APPNAME_LENGTH",{length:t[2].length})}`),n&&i.push(n)}else n>15&&i.push((0,a.t)("PROMPT_ABAP_INVALID_APPNAME_LENGTH",{length:n}));else i.push((0,a.t)("PROMPT_ABAP_APPNAME_REQUIRED"));return n&&(t&&!e?.toUpperCase()?.startsWith(t.toUpperCase())&&i.push((0,a.t)("PROMPT_ABAP_INVALID_APPNAME",{prefix:t})),e.match(/^[A-Za-z0-9_/]*$/)||i.push((0,a.t)("ERROR_CHARACTERS_FORBIDDEN_IN_APP_NAME"))),{valid:0===i.length,errorMessages:i.length?i.join("\n")+(i.length>1?"\n":""):void 0}},t.validateAppDescription=function(e){const t=[];return e.length>60&&t.push((0,a.t)("PROMPT_ABAP_APPDESC_LENGTH")),{valid:0===t.length,errorMessages:t.length?t.join("\n")+(t.length>1?"\n":""):void 0}},t.initTransportConfig=async function({scp:e,url:t,client:i,destination:a,credentials:n,sapSystem:r,errorHandler:o}){let p={};if(!t&&!a)return p;const u={url:t,client:i,destination:a};try{const t=await c(u,r);p=await(0,s.getTransportConfigInstance)({scp:e,credentials:n,system:t})}catch(e){p.error=e}return p.error&&o(p.error),p},t.getTransportList=async function(e,t,{url:i,client:a,destination:n,credentials:r,sapSystem:o}){if(!i&&!n)return;const p={url:i,client:a,destination:n},u=await c(p,o),d=await(0,s.getTransportListFromService)(e,t,{system:u,credentials:r});return 1===d?.length&&""===d[0].transportReqNumber?[]:d},t.createTransportNumber=async function(e,{url:t,client:i,destination:a,credentials:n,sapSystem:s}){if(!t&&!a)return null;const o={url:t,client:i,destination:a},p=await c(o,s);return(0,r.createTransportNumberFromService)(e,{system:p,credentials:n})},t.listPackages=async function(e,{url:t,client:i,destination:a,credentials:n,sapSystem:s}){if(!t&&!a)return[];const r={url:t,client:i,destination:a},p=await c(r,s);return(0,o.listPackagesFromService)(e,{system:p,credentials:n})}},34409:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=34409,e.exports=t},70910:(e,t,i)=>{var a={"./Find-VisualStudio.cs":20183,"./build":17724,"./build.js":17724,"./clean":1658,"./clean.js":1658,"./configure":4748,"./configure.js":4748,"./create-config-gypi":98395,"./create-config-gypi.js":98395,"./find-node-directory":24159,"./find-node-directory.js":24159,"./find-python":29130,"./find-python.js":29130,"./find-visualstudio":17703,"./find-visualstudio.js":17703,"./install":25925,"./install.js":25925,"./list":44179,"./list.js":44179,"./node-gyp":55614,"./node-gyp.js":55614,"./process-release":75344,"./process-release.js":75344,"./rebuild":64187,"./rebuild.js":64187,"./remove":13103,"./remove.js":13103,"./util":55690,"./util.js":55690};function n(e){var t=s(e);return i(t)}function s(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=70910},84679:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=84679,e.exports=t},72869:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=72869,e.exports=t},12937:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=12937,e.exports=t},84397:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=84397,e.exports=t},45869:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=45869,e.exports=t},54529:e=>{"use strict";e.exports=require("@opentelemetry/tracing")},85767:e=>{"use strict";e.exports=require("@sap/cds")},32220:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},43241:e=>{"use strict";e.exports=require("esprima")},74602:e=>{"use strict";e.exports=require("keytar")},66828:e=>{"use strict";e.exports=require("vscode")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},14521:e=>{"use strict";e.exports=require("readline")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},26144:e=>{"use strict";e.exports=require("vm")},59796:e=>{"use strict";e.exports=require("zlib")},91046:e=>{"use strict";e.exports=JSON.parse('{"DEPLOYMENT_CONFIG_GENERATOR":"Deployment Configuration","DEPLOYMENT_CONFIG_GENERATOR_DESC":"Deployment Configuration","DEPLOYMENT_CONFIG":"Deploy Configuration","DEPLOYMENT_CONFIG_DESC":"Create/Update deployment configuration","DEFAULT_PACKAGE":"$tmp","DEFAULT_ABAP_DESCRIPTION":"ABAP Deployment.","DEFAULT_MTA_DESCRIPTION":"Generated by Fiori Tools","FLP_CONFIG":"FLP Configuration","FLP_CONFIG_DESC":"Create/Update Fiori Launchpad configuration","SERVER_CONFIG":"Application Router Configuration","SERVER_CONFIG_DESC":"Configure the Cloud Foundry application router","STEP_PREPARE":"Prepare","STEP_PREPARE_DESC":"Select project location and choose configuration generator","STEP_DEPLOY_TARGET":"Deploy Target","STEP_DEPLOY_TARGET_DESC":"Select backend type: ABAP or Cloud Foundry","STEP_CONFIG":"Project Configuration","STEP_CONFIG_DESC":"Create or update your project configuration","PROMPT_YUI_PROJECT_FOLDER":"Choose project folder","PROMPT_YUI_SELECT_GENERATOR":"Select a configuration generator","ERROR_CANNOT_FIND_BINARY":"Cannot find the \\"{{bin}}\\" executable. Please add it to the path or use \\"npm i -g {{pkg}}\\" to install it.","ERROR_NO_MANIFEST_AT_PATH":"Manifest not found at path: {{- path}}","ERROR_NO_MANIFEST":"Error: could not read webapp/manifest.json","ERROR_SAP_APP_NOT_DEFINED":"Manifest is missing required section \'sap.app\'","WARNING_CANNOT_UPDATE_I18N":"Cannot update i18n properties file: {{- path}}","WARNING_I18N_FILE_PATH_NOT_FOUND_IN_MANIFEST":"i18n file path not found in manifest.json. Fiori launchpad texts not added.","PROMPT_ABAP_INVALID_NAMESPACE_LENGTH":"Namespace limited to 10 characters, entered {{length}}","PROMPT_ABAP_INVALID_NAMESPACE":"Namespace invalid as there are too many forward slashes","PROMPT_ABAP_APPDESC_LENGTH":"Deployment Description should not exceed 60 characters","ERROR_NO_APPNAME":"Could not determine app name from manifest","ERROR_NO_MTA":"Error: no mta.yaml exists. Please run the deployment generator first","ERROR_NO_MTA_ROOT":"Error: no {{mtaFileName}} in {{root}}","ERROR_UNRECOGNIZED_TARGET":"Unrecognized target: {{target}}","ERROR_NO_PATH":"Cannot find \\"path\\" in backend configuration in ui5.yaml","ERROR_CANNOT_READ_UI5_CONFIG":"Cannot read ui5.yaml: {{reason}}","ERROR_FILE_NOT_EXIST":"File does not exist: {{filePath}}","ERROR_FOLDER_NOT_EXIST":"Folder path does not exist: {{filePath}}","ERROR_INVALID_CLIENT":"[{{client}}] is invalid. Enter blank or a value between 000-999","ERROR_INVALID_URL":"Invalid URL: [{{input}}]","ERROR_S4_SYSTEM_NOT_EXTENSIBLE":"S4 system not configured as Extensibility Development system. Cannot deploy to it.","ERROR_INCORRECT_ATO_SETTINGS":"Incorrect ATO settings. Package or prefix settings mising.","ERROR_PARSE_ATO":"Failed to parse ATO Settings - [{{message}}]","ERROR_NO_APP_NAME":"Could not determine app name from manifest","ERROR_NO_APP_ID":"Could not determine app ID from manifest","ERROR_NO_INBOUND":"Could not determine inbound from the manifest","ERROR_MTA_ID_ALREADY_EXIST":"A folder with same name already exist at {{destinationRoot}}","ERROR_NO_MTA_ID":"MTA ID cannot be empty","ERROR_MTA_DESTINATIONS":"No destinations loaded from mta.yaml","ERROR_INVALID_MTA_ID":"The ID can only contain letters, numbers, dashes, periods and underscores (but no spaces).","ERROR_HYPHENS_FORBIDDEN_IN_APP_NAME":"\'-\' not allowed in application name","ERROR_CHARACTERS_FORBIDDEN_IN_APP_NAME":"Only alphanumeric, underscore and slash characters are allowed","ERROR_MTA_EXTENSION_FOR_ABHE_FAILED":"Unable to create or update the mta extension file for Api Hub Enterprise destination configuration: {{error}}","ERROR_MTA_EXTENSION_ADDITION_FAILED":"Unable to add mta extension configuration to file: {{mtaExtFilePath}}","ERROR_UNABLE_TO_LOAD_MTA":"Unable to load mta.yaml configuration","ERROR_FAILED_TO_LOAD_SERVICE_KEY":"Failed to fetch service key","ERROR_CAP_DEPLOYMENT_NO_MTA":"This Fiori application is within a CAP project and deployment should be configured as part of the CAP project.","INFO_EXISTING_MTA_EXTENSION_NOT_FOUND":"Cannot find a valid existing mta extension file, a new one will be created","INFO_MTA_EXT_CREATED":"Created file: {{mtaExtFile}} to extend mta module: {{appMtaId}} with destination configuration","INFO_MTA_EXT_UPDATED":"Updated file: {{mtaExtFile}} with module destination configuration","WARN_EXISTING_DESTINATION_SERVICE_NOT_FOUND":"A destination service resource cannot be found in the mta.yaml. An mta extension destination instance cannot be added","LOG_ATO_PACKAGE_WARN":"Warning: superceding entered package {{package}} with packaged mandated by backend ATO settings: {{backendPackage}}","LOG_ENTER_CREDENTIAL":"Please enter your credentials for: {{url}}","LOG_ENTER_CREDENTIAL_CLIENT":"Please enter your credentials for: {{url}} (Client {{client}})","LOG_ENTER_CREDENTIAL_DESTINATION":"Please enter your credentials for destination: {{destination}}","LOG_CORRECT_CREDENTIAL":"Correct credentials.","LOG_INCORRECT_CREDENTIAL":"Incorrect credentials. Try again","LOG_INCORRECT_APP_NAME":"Your package is in the customer space. Please check the correctness of the application name as it might need to start with a Z.","LOG_MOVE_APP_PATH":"Moving application to {{newAppPath}}","LOG_WIN_OS_MSG":"Windows OS specific: ","LOG_WIN_OS_CANNOT_MOVE_LOCKED_FILE":"{{winosSpecificMsg}}Cannot remove locked folder {{srcPath}}","LOG_FAILED_SERVICE_KEY":"Failed to fetch service key","LOG_UPDATED_MTA":"Updated mta.yaml","LOG_READ_MTA":"Read mta.yaml with prefix {{prefix}}","LOG_READ_MTA_ERROR":"Could not read mta.yaml, trying again...","LOG_UPDATE_STANDALONE_MTA":"Updated standalone mta.yaml","LOG_UPDATE_MTA_FAILED":"Could not update mta.yaml","LOG_UPDATE_XSAPP_FAILED":"Could not update xs-app.json, error found {{error}}","LOG_UPDATED_XSAPP":"Updated standalone approuter xs-app.json {{message}}","LOG_ERROR":"{{method}} error found {{error}}","LOG_CANNOT_FIND_MTA":"Cannot find mta.yaml in current folder or up directory tree","LOG_ADD_FLP":"Adding FLP artifacts","LOG_ADDING_APP_TO_MTA":"Adding application {{appModule}} to mta.yaml","LOG_ADDING_PARAMS_TO_MTA":"Adding additional parameters to mta.yaml","LOG_ERROR_INSTALL_PHASE":"Error during install phase deployment-generator:cf: {{error}}","LOG_ROOT_ERROR_INSTALL_PHASE":"Error during install phase, root package.json deployment-generator:cf: {{error}}","LOG_ERROR_WRITING_PHASE":"Error writing phase deployment-generator:cf: {{error}}","LOG_ERROR_END_PHASE":"Error end phase deployment-generator:cf: {{error}}","LOG_UPDATING_PACKAGE_JSON":"Error updating package.json: {{error}}","LOG_UPDATED_PACKAGE_JSON":"Updated root package.json","LOG_ADDED_MTA_YAML":"mta.yaml created","WARN_MESSAGE_FLPCONF_INBOUND_CONFIG_KEY_EXISTS":"An inbound configuration with the key: \'{{inboundKey}}\' is already defined. ","PROMPT_FLPCONF_OVERWRITE":"Overwrite existing configuration?","PROMPT_FLPCONF_SEMANTIC_OBJECT":"Semantic Object","PROMPT_FLPCONF_ACTION":"Action","PROMPT_FLPCONF_TITLE":"Title","PROMPT_FLPCONF_SUBTITLE":"Subtitle (optional)","PROMPT_FLPCF_EXIST_MTA_DIR":"Existing configuration at {{mtaDir}} found. Do you want to extend it (or abort)?","PROMPT_FLPCF_NEW_MTA_DIR":"Enter the directory containing mta.yaml","PROMPT_FLPCF_NOT_EXIST_MTA_DIR":"{{mtaPath}} does not exist","PROMPT_VALIDATION_WARN_MAX_LENGTH":"Maximum length: {{maxLength}} characters","PROMPT_VALIDATION_WARNING_INPUT_REQUIRED":"{{inputName}} is required","PROMPT_APP_CHOOSE_TARGET":"Please choose the target","PROMPT_ABAP_APPNAME_REQUIRED":"Application name required","PROMPT_ABAP_INVALID_APPNAME_LENGTH":"Application name limited to 15 characters, entered {{length}}","PROMPT_ABAP_INVALID_APPNAME":"Application name needs to be prefixed with [{{prefix}}]","PROMPT_OVERWRITE_CONFIG":"Editing the deployment configuration will overwrite existing configuration, are you sure you want to continue?","PROMPT_OVERWRITE_ABORT":"Deployment config will abort if you choose no. Click Finish to abort.","PROMPT_ABAP_ENTER_BASE_CONFIG":"Enter the base configuration filename","PROMPT_ABAP_CONFIRM_SCP":"Is this an SAP Business Technology Platform system?","PROMPT_ABAP_DESTINATION":"Destination","PROMPT_ABAP_TARGET_SYSTEM":"Select Target system","PROMPT_ABAP_ENTER_TARGET":"Enter Target System URL","PROMPT_ABAP_TARGET_URL":"Target System URL","PROMPT_ABAP_CLIENT":"Client","PROMPT_ABAP_CLIENT_CHOICE_EXISTING":"Use project defined client {{client}}","PROMPT_ABAP_CLIENT_CHOICE_NEW":"Enter client","PROMPT_ABAP_CLIENT_CHOICE_BLANK":"Use default system client","PROMPT_ABAP_ENTER_CLIENT":"Enter client","PROMPT_ABAP_INVALID_APPNAME_LENGTH_2":"Name (Maximum length: 15 characters)","PROMPT_ABAP_APPNAME":"SAPUI5 ABAP Repository","PROMPT_ABAP_INVALID_APPNAME_LENGTH_PREFIX":"SAPUI5 ABAP Repository (Maximum length: 15 characters, should start with {{applicationPrefix}})","PROMPT_ABAP_PACKAGE":"Package","PROMPT_HINT_TYPE_TO_FILTER":" (Type to filter matching records)","PROMPT_ABAP_PACKAGE_WARN":"Provide a package","PROMPT_PACKAGE_INPUT_CHOICE":"How do you want to enter the Package","PROMPT_ABAP_PACKAGE_NOT_FOUND":"Package list cannot be fetched. Please enter the Package manually.","PROMPT_TRANSPORT_INPUT_CHOICE":"How do you want to enter Transport Request","PROMPT_TRANSPORT_LIST_PRE_REQS":"Name (SAPUI5 ABAP Repository) and Package are required to retrieve the existing Transport Requests","PROMPT_NO_TRANSPORT_REQUESTS":"There are no Transport Requests for the supplied package. You can choose to create a new one now or during deployment","PROMPT_TRANSPORT_NO_EXISTING_LIST":"Transport Request list cannot be fetched. Please enter Transport Request manually.","PROMPT_TRANSPORT_CANNOT_CREATE_TRANSPORT":"Create new Transport Request failed. Please enter Transport Request manually.","ENTER_MANUAL_CHOICE":"Enter manually","LIST_EXISTING_CHOICE":"Choose from existing","CREATE_NEW_CHOICE":"Create new","CREATE_DURING_DEPLOY_CHOICE":"Create during deployment","PROMPT_ABAP_TRANSPORT_NO":"Transport Request","PROMPT_ABAP_TRANSPORT_NO_MANDATORY":"Transport Request (mandatory)","PROMPT_ABAP_TRANSPORT_NO_REQUIRED":"Provide a transport request for your application","PROMPT_CREATE_TRANSPORT":"Created new Transport Request","PROMPT_ABAP_GENERATE_INDEX_HTML":"Generate standalone index.html during deployment","PROMPT_ABAP_USERNAME":"Username: ","PROMPT_ABAP_PASSWORD":"Password: ","PROMPT_ABAP_REQUIRE_CREDENTIAL":"Please provide credential to authenticate backend system","PROMPT_ABAP_DESCRIPTION":"Deployment Description","PROMPT_SERVER_PROJECT_PARENT":"Application router project path","PROMPT_SERVER_STANDALONE_APPROUTER":"Standalone Approuter","PROMPT_SERVER_MANAGED_APPROUTER":"Managed Approuter","PROMPT_SERVER_ADD_ROUTER_MODULE":"Add router module","PROMPT_SERVER_ADD_CONNECTIVITY":"Add connectivity service (required for connections to on-prem systems)?","PROMPT_SERVER_ADVANCED_OPTION":"Configure advanced options","PROMPT_CF_ABAP_ENV_UNAVAIL":"ABAP Environments Unavailable","PROMPT_CF_GENERATE_IN_ROOT":"Generate project artifacts in root folder: {{root}}?","PROMPT_CF_MTA_EXISTS":"Existing configuration at {{mtaPath}} found. Do you want to extend it (or abort)?","PROMPT_CF_SELECT_ROOT_PATH":"Please enter the location of the root folder (relative or absolute path)","PROMPT_CF_CREATE_ROOT":"{{root}} does not exist. Create it?","PROMPT_CF_CREATE_ROOT_CHOICE_YES":"Yes","PROMPT_CF_CREATE_ROOT_CHOICE_NEW":"Enter new name","PROMPT_CF_CREATE_ROOT_CHOICE_ABORT":"Abort","PROMPT_CF_CREATE_MTA_ID":"MTA ID","PROMPT_CF_CREATE_MTA_DESC":"MTA description","PROMPT_CF_CREATE_MTA_VERSION":"MTA version","PROMPT_CF_ABAP_SERVICE":"Do you want to connect to your ABAP environment via direct service binding?","PROMPT_CF_DESTINATION":"Destination name","PROMPT_CF_DESTINATION_HINT":"Destination name - The app router is configured to use direct service binding","PROMPT_CF_HINT_CF_LOGIN":"Login to Cloud Foundry is required prior to view available ABAP services.","PROMPT_CF_LOAD_ABAP_SERVICE_FAIL":"Discovering ABAP environments failed. Check logs for details.","PROMPT_CF_SELECT_ABAP_SERVICE":"ABAP Environment for direct service binding","PROMPT_CF_MOVE_APP_DIR":"Move app directory [{{appPath}}] to {{newRoot}}?\\n(Please ensure everything is under version control and committed first)","PROMPT_CF_NEW_DIR_NAME":"Choose new directory name","PROMPT_CF_APP_PATH_EXISTS":"{{appPath}} already exists.\\nPlease choose an option (h for help)","PROMPT_CF_CREATE_CHOICE_NO_MOVE":"Don\'t move","PROMPT_CF_LABEL_NONE":"None","PROMPT_CF_LABEL_DIRECT_SERVICE_BINDING":"Direct Service Binding","NOT_OVERWRITING_EXISTING_INDEX_HTML":"\'webapp/index.html\' already exists. Won\'t overwrite","PROMPT_GENERATE_MANAGED_APPROUTER":"Add application to managed application router?","WARN_CANNOT_GET_TRANSPORT_CONFIGURATION":"Cannot get transport configuration from the backend","PROMPT_INSTANCE_BASED_DEST_DEFAULT":"Local CAP Project API (Instance Based Destination)","PROMPT_INSTANCE_BASED_DEST":"{{destination}} (Instance Based Destination)","TOOLTIP_SAP_UI5_ABAP_REPO":"Enter the name for the deployed application. The name must follow the rules of creating a BSP application. It must not exceed 15 characters and must consist of alphanumeric characters or underscores only. Name should be unique in the BSP repository and its namespace is compatible with the selected package.","TOOLTIP_ABAP_DESCRIPTION":"The description of the deployed application.","TOOLTIP_ABAP_PACKAGE":"Provide a package for the deployed application.","ERROR_DEPLOY_TARGET_NOT_DEPLOYABLE":"{{systemError}} To continue with project generation choose a different deployment target or skip adding deploy config.","LABEL_TARGET_SYSTEM_BREADCRUMB":"Target System","LABEL_TARGET_SYSTEM_TYPE_BREADCRUMB":"Target Type","LABEL_SCP_BREADCRUMB":"SCP","LABEL_GENERATE_INDEX_HTML_BREADCRUMB":"Generate index.html","LABEL_ADD_APP_TO_ROUTER_BREADCRUMB":"Add to Router","LABEL_FLP_SUBTITLE_BREADCRUMB":"Subtitle","LABEL_ROUTER_PATH_BREADCRUMB":"App Router Path","LABEL_CONNECTIVITY_SERVICE_BREADCRUMB":"Add Connectivity Service","LABEL_DIRECT_SERVICE_ABAP_ENVIRONMENT_BREADCRUMB":"ABAP Env. Binding","INFO_MESSAGE_MORE_SEARCH_RESULTS":"More than {{numResults}} results, keep typing to narrow down","PROMPT_LABEL_S4_CONTINUE":"S/4 {{configType}} configuration is managed centrally as part of the CI pipeline, local updates to deployment configuration will not be for productive use. Are you sure you want to continue?","ERROR_EMPTY_NAME":"You must provide a destination name in order to continue.","ERROR_NAME_MSG":"The destination name must only contain letters, digits, dashes and underscores.","ERROR_NAME_TOO_LONG":"Destination name cannot contain more than 200 characters","VIRTUAL_HOST_WARNING":"The destination is using a virtual host, you will need to replace the host in the URL with the internal host that is configured with your SAP Cloud Connector when viewing your deployed application."}')},69645:e=>{"use strict";e.exports={}}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=i,n.c=a,n.x=()=>{var e=n.O(void 0,[712,784,475,763],(()=>n(n.s=86108)));return e=n.O(e)},e=[],n.O=(t,i,a,s)=>{if(!i){var r=1/0;for(u=0;u<e.length;u++){for(var[i,a,s]=e[u],o=!0,c=0;c<i.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](i[c])))?i.splice(c--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var p=a();void 0!==p&&(t=p)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,a,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>({475:"tools-suite-common-libs",712:"commonlibs",763:"app-gen-shared",784:"open-ux-shared"}[e]+"/index.js"),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=250,n.p="",(()=>{var e={250:1,190:1};n.O.require=t=>e[t];n.f.require=(t,i)=>{e[t]||(t=>{var i=t.modules,a=t.ids,s=t.runtime;for(var r in i)n.o(i,r)&&(n.m[r]=i[r]);s&&s(n);for(var o=0;o<a.length;o++)e[a[o]]=1;n.O()})(require("../"+n.u(t)))}})(),t=n.x,n.x=()=>(n.e(712),n.e(784),n.e(475),n.e(763),t());var s=n.x();module.exports=s})();